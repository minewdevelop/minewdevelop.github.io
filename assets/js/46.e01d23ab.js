(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{362:function(a,t,e){"use strict";e.r(t);var s=e(14),n=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"minewbeacon-android-software-development-kit-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeacon-android-software-development-kit-guide"}},[a._v("#")]),a._v(" MinewBeacon Android Software Development Kit Guide")]),a._v(" "),t("h1",{attrs:{id:"new-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#new-project"}},[a._v("#")]),a._v(" New Project")]),a._v(" "),t("p",[a._v("Android Studio Settings:")]),a._v(" "),t("p",[a._v("targetSdkVersion Version choose 21")]),a._v(" "),t("p",[a._v("Place the minewBeaconScan.jar into the libs folder, and then in the current project under the build.gradle file configuration items in the dependencies new content, as follows compile files ('libs / minewBeaconScan.jar').")]),a._v(" "),t("p",[a._v("Eclipse Settings:")]),a._v(" "),t("p",[a._v("targetSdkVersion Version choose 21")]),a._v(" "),t("p",[a._v("Place the scanBeacon.jar into  the libs folder, right-click the project propeties, select Java build Path, add the minewBeaconScan.jar dependency in the Library option.")]),a._v(" "),t("p",[a._v("When the targetSdkVersion version is greater than or equal to 23, the need for dynamic application permissions.")]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.ACCESS_COARSE_LOCATION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.ACCESS_FINE_LOCATION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("Permissions required for SDK:")]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[a._v("\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.BLUETOOTH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.BLUETOOTH_ADMIN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-feature")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.hardware.bluetooth_le"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("required")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\nThe corresponding component registration under the AndroidManifest.xml file. As follows:\n​\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("service")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.minew.beacon.ScanService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n​\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("receiver")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.minew.beacon.BluetoothChangedReceiver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n​\t        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("intent-filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n​\t            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("action")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.bluetooth.adapter.action.STATE_CHANGED"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n​\t        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("intent-filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n​\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("receiver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[a._v("more details, please refer to demo.")]),a._v(" "),t("h2",{attrs:{id:"start-developing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-developing"}},[a._v("#")]),a._v(" Start Developing")]),a._v(" "),t("p",[a._v("The MinewBeaconManager (as Manager below) is used to scan and stop scan the surrounding Bluetooth device, which generates a corresponding Minewbeacon (as Beacon below) instance for each Bluetooth device. When the Manager scans to a Bluetooth device, it continuously monitors the data update of the Bluetooth device and the status of the devices (the device with no data update in ten seconds is considered to be the device that disappeared and scanned for the first time Device is considered to be the device), while the Manager class can also monitor the Bluetooth state changes and call back to the corresponding proxy instance. The following is the relevant code.")]),a._v(" "),t("p",[a._v("1.get Manager instance  and set call back listener:")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("MinewBeaconManager mMinewBeaconManager = MinewBeaconManager.getInstance(this);\nmMinewBeaconManager.setDeviceManagerDelegateListener(new MinewBeaconManagerListener() {});\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("2.scan device:")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("mMinewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startScan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("3.update scanned devices:")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Get continuous device data update, this method callback once every 1 second, and only when the scan to the device will callback.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onRangeBeacons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MinewBeacon")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" minewBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("4.get data from MinewBeacon:")]),a._v(" "),t("p",[a._v("For the data versatility, we use the MinewBeaconValue (as BeaconValueIndex below) to unify all data types, value can correspond to the string, integer, float,boolean type, and so on.Each index corresponds to a value, as follows:")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Get")]),a._v(" data from "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Beacon")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// get uuid")]),a._v("\nmMinewBeacon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBeaconValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("MinewBeaconValueIndex_UUID")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getStringValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// get major")]),a._v("\nmMinewBeacon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBeaconValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("MinewBeaconValueIndex_Major")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getStringValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// get minor")]),a._v("\nmMinewBeacon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBeaconValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("MinewBeaconValueIndex_Minor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getStringValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("p",[a._v("Schedule: ValueIndex and DataType")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("index")]),a._v(" "),t("th",[a._v("Data Name")]),a._v(" "),t("th",[a._v("Data Type")]),a._v(" "),t("th",[a._v("Remarks")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("BeaconValueIndex_UUID")]),a._v(" "),t("td",[a._v("uuid")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Name")]),a._v(" "),t("td",[a._v("Name")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Major")]),a._v(" "),t("td",[a._v("major")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Minor")]),a._v(" "),t("td",[a._v("minor")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_WechatId")]),a._v(" "),t("td",[a._v("Wechat Id")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td",[t("strong",[a._v("Partial support")])])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Mac")]),a._v(" "),t("td",[a._v("mac address")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td",[t("strong",[a._v("Partial support")])])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_RSSI")]),a._v(" "),t("td",[a._v("rssi")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_BatteryLevel")]),a._v(" "),t("td",[a._v("battery")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Temperature")]),a._v(" "),t("td",[a._v("temperature")]),a._v(" "),t("td",[a._v("floatValue")]),a._v(" "),t("td",[t("strong",[a._v("Partial support")])])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Humidity")]),a._v(" "),t("td",[a._v("humidity")]),a._v(" "),t("td",[a._v("floatValue****")]),a._v(" "),t("td",[t("strong",[a._v("Partial support")])])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Txpower")]),a._v(" "),t("td",[a._v("txPower")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_InRange")]),a._v(" "),t("td",[a._v("range")]),a._v(" "),t("td",[a._v("boolValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Connectable")]),a._v(" "),t("td",[a._v("connectable")]),a._v(" "),t("td",[a._v("boolValue")]),a._v(" "),t("td")])])]),a._v(" "),t("p",[a._v("Follow the corresponding index , get the desired data.")]),a._v(" "),t("p",[a._v("More Infomation,refer demo code")]),a._v(" "),t("p",[t("strong",[a._v("Listen range state")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//If the device does not have data updates within 8 seconds, this device is considered to have disappeared and the device will disappear in this callback, this method every 5 seconds a cycle.")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onDisappearBeacons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MinewBeacon")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" minewBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MinewBeacon")]),a._v(" minewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" minewBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" deviceName "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" minewBeacon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBeaconValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("MinewBeaconValueIndex_Name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getStringValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Toast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("makeText")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" deviceName "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"  out range"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Toast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("LENGTH_SHORT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The device that was first scanned or disapproved after being re-scanned is considered to be a new device, and the newly device will be in this callback, which is a cycle every 3 seconds.")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onAppearBeacons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MinewBeacon")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" minewBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br")])]),t("p",[a._v("Listen the status of the Bluetooth module updates, Bluetooth status a total of three:")]),a._v(" "),t("p",[a._v("BluetoothState:BluetoothStatePowerOn（bluetooth on），BluetoothStatePowerOff(bluetooth off），BluetoothStateNotSupport（not support bluetooth 4.0）")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Due to the user or the system changes the Bluetooth switch, can be monitored in the following ways:")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onUpdateBluetoothState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BluetoothState")]),a._v(" state"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("Get bluetooth state by checkBluetoothState method:")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BluetoothState")]),a._v(" bluetoothState "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mMinewDeviceManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("checkBluetoothState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"class-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#class-description"}},[a._v("#")]),a._v(" Class Description")]),a._v(" "),t("h3",{attrs:{id:"minewbeacon"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeacon"}},[a._v("#")]),a._v(" MinewBeacon")]),a._v(" "),t("p",[a._v("Every device corresponds to a MinewBeacon, and there is only one method for obtaining the information of the device through the corresponding Index:")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public MinewBeaconValue getBeaconValue(NS_ENUM ns_enum);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Example,get UUID:")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("minewBeacon.getBeaconValue(NS_ENUM.MinewBeaconValueIndex_UUID).getStringValue;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// correspond Enum\n// !!!Data must be obtained for each device's data type")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public enum BeaconValueIndex {\n  MinewBeaconValueIndex_UUID,  // UUID\n\n  MinewBeaconValueIndex_Major,   // major\n\n  MinewBeaconValueIndex_Minor,   // minor\n\n  MinewBeaconValueIndex_Name,   // name\n\n  MinewBeaconValueIndex_RSSI,   // RSSI\n\n  MinewBeaconValueIndex_BatteryLevel,  // battery\n\n  //MinewBeaconValueIndex_Temperature,  // temperature Not available yet\n\n//MinewBeaconValueIndex_Humidity,   // humidity Not available yet\n\n  MinewBeaconValueIndex_TxPower,  // TxPower\n\n  MinewBeaconValueIndex_InRage  // in range\n\n}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br")])]),t("h3",{attrs:{id:"minewbeaconvalue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeaconvalue"}},[a._v("#")]),a._v(" MinewBeaconValue")]),a._v(" "),t("p",[a._v("MinewBeaconValue: Obtain all instances of this data from the device. Obtain data in strict accordance with the data type.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("//  int data\nprivate int intValue;\n\n// float data\nprivate float floatValue;\n\n// string data\nprivate String stringValue;\n\n//boolean data\nprivate boolean bool;\n\n// byte[] data\nprivate byte[] dataValue;\n")])])]),t("h3",{attrs:{id:"bluetoothstate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bluetoothstate"}},[a._v("#")]),a._v(" BluetoothState")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public enum  BluetoothState {\n    BluetoothStatePowerOn, //bluetooth on\n\n    BluetoothStatePowerOff, //bluetooth off\n\n    BluetoothStateNotSupported,//not support bluetooth 4.0\n}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("p",[a._v("##MinewBeaconManagerListener")]),a._v(" "),t("p",[a._v("MinewBeaconManager Interface。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("// Found the new devices, the function callback every 3 seconds\nvoid onAppearBeacons(List<MinewBeacon> minewBeacons);\n\n// When the device disappears, call back once every second.\nvoid onDisappearBeacons(List<MinewBeacon> minewBeacons);\n\n//Callback data update function, callback once per second\nvoid onRangeBeacons(List<MinewBeacon> minewBeacons);\n\n//Bluetooth state update\nvoid onUpdateState(BluetoothState state);\n")])])]),t("p",[a._v("##MinewBeaconManager\nDevice management class, used to scan the device and update the device status.\n// MinewBeaconManagerListener Interface")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("public void setDeviceManagerDelegateListener(MinewBeaconManagerListener minewBeaconManagerListener) {\n}\n")])])]),t("p",[a._v("// instance")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public static MinewBeaconManager getInstance(Context context) {}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// get bluetooth state")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public BluetoothState checkBluetoothState() {}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// scan device")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public void startScan() throws Exception {}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// stop scan")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public void stopScan() {}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// all scanned devices")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public static List<MinewBeacon> scannedBeacons;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("// in range devices")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("public static List<MinewBeacon> inRangeBeacons;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"changelog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[a._v("#")]),a._v(" Changelog")]),a._v(" "),t("h4",{attrs:{id:"_2019-07-17"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2019-07-17"}},[a._v("#")]),a._v(" 2019.07.17")]),a._v(" "),t("p",[a._v('Fixed the exception for "java.lang.NegativeArraySizeException".')]),a._v(" "),t("h4",{attrs:{id:"_2018-11-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2018-11-20"}},[a._v("#")]),a._v(" 2018.11.20")]),a._v(" "),t("p",[a._v("Fixed bug for scanning.")]),a._v(" "),t("h4",{attrs:{id:"_2016-11-29"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2016-11-29"}},[a._v("#")]),a._v(" 2016.11.29")]),a._v(" "),t("p",[a._v("Add support for temperature and humidity sensor data.")])])}),[],!1,null,null,null);t.default=n.exports}}]);