(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{302:function(t,s,a){t.exports=a.p+"assets/img/design.ac742719.png"},303:function(t,s){t.exports="data:image/png;base64,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"},370:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"minewmodulekit-programming-guide-for-android"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minewmodulekit-programming-guide-for-android"}},[t._v("#")]),t._v(" MinewModuleKit Programming Guide for Android")]),t._v(" "),s("p",[t._v("This SDK only supports the module device producted by Minew. The developers can handle all bluetooth operations between iPhone and modules. such as: scan modules, connect modules, write data to modules, receive data from modules and so on.")]),t._v(" "),s("h2",{attrs:{id:"structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[t._v("#")]),t._v(" Structure")]),t._v(" "),s("p",[t._v("This framework is very simple: the MTModuleManager is device managing Class, always using shared instance when the APP is running. the MTModule is device instance Class, the SDK will create instances for devices. the developer can use the MTModule instance for operate module devices.")]),t._v(" "),s("p",[t._v("The framework is as the screenshot below:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(302),alt:"设计说明"}})]),t._v(" "),s("p",[s("em",[t._v("MTModuleManager：")]),t._v(" Device managing class, you can scan module devices around, and connect to the modules.")]),t._v(" "),s("p",[t._v("MTModule：the Module instance class, when the manager found a physical module device it will create a module instance for the device, the instance is correspond to the module device.")]),t._v(" "),s("h2",{attrs:{id:"preworks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preworks"}},[t._v("#")]),t._v(" PreWorks")]),t._v(" "),s("h3",{attrs:{id:"environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[t._v("#")]),t._v(" Environment：")]),t._v(" "),s("ul",[s("li",[t._v("Android Studio")])]),t._v(" "),s("h3",{attrs:{id:"import-to-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-to-project"}},[t._v("#")]),t._v(" Import to project:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Please copy the MTModuleKit.jar file of the development kit to the libs directory and add dependencies to the build.gradle file of the corresponding module.As the screenshot below:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(303),alt:"添加framework"}})])]),t._v(" "),s("li",[s("p",[t._v("Add bluetooth permissions and corresponding component registration under the AndroidManifest.xml file.As follows:")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("permission android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"android.permission.ACCESS_COARSE_LOCATION"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("permission android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"android.permission.ACCESS_FINE_LOCATION"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("permission android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"android.permission.BLUETOOTH"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("permission android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"android.permission.BLUETOOTH_ADMIN"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("permission android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"android.permission.READ_PHONE_STATE"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("Bluetooth scanning in Android-6.0 or above requires dynamic application of geographical permission, as follows:")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ContextCompat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkSelfPermission")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Manifest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_COARSE_LOCATION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PackageManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PERMISSION_GRANTED")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ActivityCompat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestPermissions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Manifest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_COARSE_LOCATION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PERMISSION_COARSE_LOCATION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])]),t._v(" "),s("h2",{attrs:{id:"start-developing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-developing"}},[t._v("#")]),t._v(" Start Developing")]),t._v(" "),s("h3",{attrs:{id:"scan-devices"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scan-devices"}},[t._v("#")]),t._v(" Scan devices")]),t._v(" "),s("p",[t._v("First you need to get a single instance of the MTModuleManager, then check the current bluetooth status of the phone, and then you can scan the device.")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get the Manager instance")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),t._v(" mMTModuleManager"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Get the bluetooth status of the phone")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BluetoothState")]),t._v(" bluetoothState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkBluetoothState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//response for status")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bluetoothState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BluetoothStateNotSupported")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Not support")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BluetoothStatePowerOff")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Power off")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BluetoothStatePowerOn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n            \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Power on and start scan")]),t._v("\n            \t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startScan")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mScanMTModuleCallback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h4",{attrs:{id:"new-scan-method-20200408"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-scan-method-20200408"}},[t._v("#")]),t._v(" New Scan Method(20200408)")]),t._v(" "),s("p",[t._v("Open system ScanFilter and ScanSettings."),s("strong",[t._v("Don't use it lightly")]),t._v(".As follows:")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VERSION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SDK_INT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VERSION_CODES")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LOLLIPOP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanSettings")]),t._v(" scanSettings "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanSettings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setScanMode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanSettings")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SCAN_MODE_LOW_LATENCY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setReportDelay")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanFilter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanFilter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setServiceUuid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParcelUuid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0000ffe1-0000-1000-8000-00805f9b34fb"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScanFilter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setManufacturerData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x004c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        mtModuleManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startScan")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scanMTModuleCallback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scanSettings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[s("strong",[t._v("Please Note: only the phone bluetooth power on can the SDK works well.")])]),t._v(" "),s("h3",{attrs:{id:"connect-to-the-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connect-to-the-device"}},[t._v("#")]),t._v(" connect to the device")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get the module")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModule")]),t._v(" mtModule "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mtModules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// listen to the changes of device connection")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ！！！writing data to device needs connected status.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setModuleChangeConnection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModuleChangeConnection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onDeviceChangeStatus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModule")]),t._v(" device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConnectionState")]),t._v(" status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceLinkStatus_Connected")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceLinkStatus_ConnectFailed")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceLinkStatus_Disconnect")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// connect to a module device.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mtModule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h3",{attrs:{id:"write-data-to-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#write-data-to-device"}},[t._v("#")]),t._v(" Write data to device")]),t._v(" "),s("p",[t._v("From last step, you can write or receive data from device when the device connected to the phone.")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// write data to device")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// at first, make the data you want to write")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This is a 4 bytes data: 0x01,0x02,0x03,0x04.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bytes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x02")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x03")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x04")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then write the bytes above to device")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you can get a writing result from the WriteCallback.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WriteCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" success"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModuleException")]),t._v(" exception"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("success"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//write data successfully.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//write data failed.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h3",{attrs:{id:"receiving-data-from-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#receiving-data-from-device"}},[t._v("#")]),t._v(" Receiving data from device.")]),t._v(" "),s("p",[t._v("We don't know when the device send data, so please implementate the callback.")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the data receiving callback.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMTModuleListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MTModuleListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("didReceiveData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"read-system-infomation-from-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#read-system-infomation-from-device"}},[t._v("#")]),t._v(" Read system infomation from device")]),t._v(" "),s("p",[t._v("If the firmware contains system information, you can obtain it by following methods:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// Obtain the system information corresponding to the device\nHashMap<String, String> systemInfos = mMTModule.getSystemInfos();\nsystemInfos.get(Constants.MANUFACTURER);\nsystemInfos.get(Constants.MODLENUMBER);\nsystemInfos.get(Constants.SOFTWARE_VERSION);\nsystemInfos.get(Constants.HARDWARE_VERSION);\nsystemInfos.get(Constants.FIRMWARE_VERSION);\nsystemInfos.get(Constants.SERIALNUMBER);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("The system information is controlled by firmware version, and the supported firmware versions are:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Firmware Verison(Verison)")]),t._v(" "),s("th",[t._v("Support or not")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Version < 1.6.0")]),t._v(" "),s("td",[t._v("No")])]),t._v(" "),s("tr",[s("td",[t._v("1.6.0 <= Version < 2.0.0")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[t._v("2.0.0 <= Version < 2.3.0")]),t._v(" "),s("td",[t._v("No")])]),t._v(" "),s("tr",[s("td",[t._v("2.3.0 <= Version < 3.0.0")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[t._v("3.0.0 <= Version < 3.1.0")]),t._v(" "),s("td",[t._v("No")])]),t._v(" "),s("tr",[s("td",[t._v("3.1.0 <= Version")]),t._v(" "),s("td",[t._v("Yes")])])])]),t._v(" "),s("h2",{attrs:{id:"tables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tables"}},[t._v("#")]),t._v(" Tables")]),t._v(" "),s("h3",{attrs:{id:"mtmodulemanager-s-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mtmodulemanager-s-properties"}},[t._v("#")]),t._v(" MTModuleManager's properties")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mBluetoothState")]),t._v(" "),s("td",[t._v("BluetoothState")]),t._v(" "),s("td",[t._v("the phone's bluetooth status")])]),t._v(" "),s("tr",[s("td",[t._v("scannedModules")]),t._v(" "),s("td",[t._v("LinkedList")]),t._v(" "),s("td",[t._v("the scanned devices.")])]),t._v(" "),s("tr",[s("td",[t._v("connectedModules")]),t._v(" "),s("td",[t._v("HashMap")]),t._v(" "),s("td",[t._v("the connected devices.")])])])]),t._v(" "),s("h3",{attrs:{id:"mtmodule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mtmodule"}},[t._v("#")]),t._v(" MTModule")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("the bluetooth name")])]),t._v(" "),s("tr",[s("td",[t._v("macAddress")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("the mac address")])]),t._v(" "),s("tr",[s("td",[t._v("advertisingData")]),t._v(" "),s("td",[t._v("byte[]")]),t._v(" "),s("td",[t._v("the advertisement data")])]),t._v(" "),s("tr",[s("td",[t._v("lastUpdate")]),t._v(" "),s("td",[t._v("long")]),t._v(" "),s("td",[t._v("last scanned timestamp")])]),t._v(" "),s("tr",[s("td",[t._v("connection")]),t._v(" "),s("td",[t._v("ConnectionState")]),t._v(" "),s("td",[t._v("the connection status")])]),t._v(" "),s("tr",[s("td",[t._v("rssi")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("the RSSI")])])])]),t._v(" "),s("h2",{attrs:{id:"changelog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[t._v("#")]),t._v(" ChangeLog：")]),t._v(" "),s("ul",[s("li",[t._v("20200408   Add new scan method.")]),t._v(" "),s("li",[t._v("20190904   Commented code for log.")]),t._v(" "),s("li",[t._v("20180830   Add function for obtain system information；")]),t._v(" "),s("li",[t._v("20180614   First version；")])])])}),[],!1,null,null,null);s.default=e.exports}}]);