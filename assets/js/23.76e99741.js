(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{321:function(t,s,a){t.exports=a.p+"assets/img/design.ac742719.png"},322:function(t,s,a){t.exports=a.p+"assets/img/addframework.afaca928.png"},323:function(t,s,a){t.exports=a.p+"assets/img/frameworkadded.f41a4903.png"},324:function(t,s,a){t.exports=a.p+"assets/img/bluetoothdescription.7ceeb2e7.png"},413:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"minewmodulekit-programming-guide-for-ios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minewmodulekit-programming-guide-for-ios"}},[t._v("#")]),t._v(" MinewModuleKit Programming Guide for iOS")]),t._v(" "),s("p",[t._v("This SDK only supports the module device producted by Minew. The developers can handle all bluetooth operations between iPhone and modules. such as: scan modules, connect modules, write data to modules, receive data from modules and so on.")]),t._v(" "),s("h3",{attrs:{id:"preworks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preworks"}},[t._v("#")]),t._v(" PreWorks")]),t._v(" "),s("p",[t._v("This framework is very simple: the MTModuleManager is device managing Class, always using shared instance when the APP is running. the MTModule is device instance Class, the SDK will create instances for devices. the developer can use the MTModule instance for operate module devices.")]),t._v(" "),s("p",[t._v("The framework is as the screenshot below:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(321),alt:"设计说明"}})]),t._v(" "),s("p",[s("em",[t._v("MTModuleManager：")]),t._v(" Device managing class, you can scan module devices around, and connect to the modules.")]),t._v(" "),s("p",[s("em",[t._v("MTModule：")]),t._v(" the Module instance class, when the manager found a physical module device it will create a module instance for the device, the instance is correspond to the module device.")]),t._v(" "),s("h3",{attrs:{id:"start-developing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-developing"}},[t._v("#")]),t._v(" Start Developing")]),t._v(" "),s("h4",{attrs:{id:"environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[t._v("#")]),t._v(" Environment：")]),t._v(" "),s("ul",[s("li",[t._v("Xcode9+，This SDK is compiled by Xcode9, Please use Xcode 9 or higher version.")]),t._v(" "),s("li",[t._v("iOS8，Limit the lowest system version to iOS8;")])]),t._v(" "),s("h4",{attrs:{id:"import-to-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-to-project"}},[t._v("#")]),t._v(" Import to project:")]),t._v(" "),s("h4",{attrs:{id:"cocoapods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cocoapods"}},[t._v("#")]),t._v(" CocoaPods")]),t._v(" "),s("p",[t._v("MTModuleKit is available through "),s("a",{attrs:{href:"http://cocoapods.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CocoaPods"),s("OutboundLink")],1),t._v(". To install it, simply add the following line to your Podfile, and then import <MTModuleKit/MTModuleKit.h>:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pod 'MTModuleKit'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"manually"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manually"}},[t._v("#")]),t._v(" Manually")]),t._v(" "),s("ol",[s("li",[s("p",[t._v('please copy the framework file "MTModuleKit.framework" to your project, then add to your project.  as the screenshot below:')]),t._v(" "),s("p",[s("img",{attrs:{src:a(322),alt:"添加framework"}})])]),t._v(" "),s("li",[s("p",[t._v('Please Click: “Target” -> General -> Embedded Binaries , then click the  "+" button and click "Add Other" add the framework to "Embedded Binaries", same in ”Linked Frameworks and Libraries“, as the screenshot below:')])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(323),alt:"frameworkadded"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v('if you are using Swift for development, you should add a "Objective C BridgingHeader .h" file (do it yourself please), and add "import <MTModuleKit/MTModuleKit.h>" to the file.')]),t._v(" "),s("li",[t._v('!!! from iOS10, the developer should add a usage description for the project: add Key-Value "Privacy - Bluetooth Peripheral Usage Description" - "You description" to the info.plist file. as the screenshot below:')])]),t._v(" "),s("p",[s("img",{attrs:{src:a(324),alt:"bluetoothdescription"}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v('!!! In iOS13 and above, Apple added permission restrictions on Bluetooth APi. You need to add a string to the project\'s info.plist file: Privacy-Bluetooth Always Usage Description-"Your usage description".')])]),t._v(" "),s("h4",{attrs:{id:"start-developing-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-developing-2"}},[t._v("#")]),t._v(" Start Developing")]),t._v(" "),s("h5",{attrs:{id:"init-sdk-scan-devices"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init-sdk-scan-devices"}},[t._v("#")]),t._v(" init SDK & scan devices")]),t._v(" "),s("p",[t._v("First of all, you need get the shared instance of MTModuleManager, then this SDK will call the Corebluetooth of iOS system and it will take some time. the SDK only works well when the bluetooth status is Poweron, you can listen the change of the iOS system bluetooth status. refer to the code below.")]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get the shared")]),t._v("\nMTModuleManager "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("manager "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("MTModuleManager sharedInstance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if you need to response for the changes of bluetooth status. please listen to the block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("manager didChangesBluetoothStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BluetoothStatus status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" Poweron"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// !!! make sure bluetooth Poweron.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"bluetooth status change to poweron"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// start scan devices.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("manager startScan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSArray"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MTModule "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("Modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// scanned devices callback.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" Poweroff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"bluetooth status change to poweroff"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" Unknown"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"bluetooth status change to unknown"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("h5",{attrs:{id:"get-current-bluetooth-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-current-bluetooth-status"}},[t._v("#")]),t._v(" get current bluetooth status")]),t._v(" "),s("p",[t._v("if you want to check current bluetooth status, please refer to the code below.")]),t._v(" "),s("p",[t._v("PS: this is a Instant status, please refer to the last step for listenning changes.")]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("manager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" Poweron"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"the bluetooth status is Poweron."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\t\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h5",{attrs:{id:"connect-to-the-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connect-to-the-device"}},[t._v("#")]),t._v(" connect to the device")]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get the module from last step.")]),t._v("\nMTModule "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("module "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// listen to the changes of device connection")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ！！！writing data to device needs connected status.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("module didChangeConnection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Connection con"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("con "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" Connected"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"the device is connected."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// connect to a module device.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("manager connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h5",{attrs:{id:"write-data-to-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#write-data-to-device"}},[t._v("#")]),t._v(" Write data to device")]),t._v(" "),s("p",[t._v("from last step, you can write or receive data from device when the device connected to iPhone.")]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// write data to device")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// at first, make the data you want to write")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This is a 4 bytes data: 0x01,0x02,0x03,0x04.")]),t._v("\nuint8_t bytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x02")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x03")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x04")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nNSData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NSData dataWithBytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("bytes length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then write the data above to device")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you can get a writing result from the block.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("module writeData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("data completion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL success"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NSError "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("success"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"write data successfully."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"write data failed."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h5",{attrs:{id:"receiving-data-from-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#receiving-data-from-device"}},[t._v("#")]),t._v(" Receiving data from device.")]),t._v(" "),s("p",[t._v("We don't know when the device send data, so please implementate the block.")]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the data receiving block.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("module didReceiveData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NSData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('@"Data received：%@"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h5",{attrs:{id:"get-device-information"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-device-information"}},[t._v("#")]),t._v(" Get device information.")]),t._v(" "),s("p",[t._v('You can get device information from the property "infos" of MTModule instatnce.')]),t._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-objc"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n  property infos is a Dictionary of BLE DIS, it contains all the information of the current connection device.\n*/")]),t._v("\nNSDictionary"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" String "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("disDict "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" aMTModule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("infos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v('"infos == nil" means the device doesn\'t support DIS, you can check firmware version to find out the device support or not.')]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Firmware Version(Verison)")]),t._v(" "),s("th",[t._v("Support or not")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Version < 1.6.0")]),t._v(" "),s("td",[t._v("NO")])]),t._v(" "),s("tr",[s("td",[t._v("1.6.0 <= Version < 2.0.0")]),t._v(" "),s("td",[t._v("YES")])]),t._v(" "),s("tr",[s("td",[t._v("2.0.0 <= Version < 2.3.0")]),t._v(" "),s("td",[t._v("NO")])]),t._v(" "),s("tr",[s("td",[t._v("2.3.0 <= Version < 3.0.0")]),t._v(" "),s("td",[t._v("YES")])]),t._v(" "),s("tr",[s("td",[t._v("3.0.0 <= Version < 3.1.0")]),t._v(" "),s("td",[t._v("NO")])]),t._v(" "),s("tr",[s("td",[t._v("3.1.0 <= Version")]),t._v(" "),s("td",[t._v("YES")])])])]),t._v(" "),s("h3",{attrs:{id:"tables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tables"}},[t._v("#")]),t._v(" Tables")]),t._v(" "),s("h5",{attrs:{id:"mtmodulemanager-s-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mtmodulemanager-s-properties"}},[t._v("#")]),t._v(" MTModuleManager's properties")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("status")]),t._v(" "),s("td",[t._v("BluetoothStatus")]),t._v(" "),s("td",[t._v("the iPhone's bluetooth status")])]),t._v(" "),s("tr",[s("td",[t._v("scannedModules")]),t._v(" "),s("td",[t._v("NSArray")]),t._v(" "),s("td",[t._v("the scanned devices.")])]),t._v(" "),s("tr",[s("td",[t._v("connectedModules")]),t._v(" "),s("td",[t._v("NSArray")]),t._v(" "),s("td",[t._v("the connected devices.")])])])]),t._v(" "),s("h5",{attrs:{id:"mtmodule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mtmodule"}},[t._v("#")]),t._v(" MTModule")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("NSString")]),t._v(" "),s("td",[t._v("the bluetooth name")])]),t._v(" "),s("tr",[s("td",[t._v("identifier")]),t._v(" "),s("td",[t._v("NSString")]),t._v(" "),s("td",[t._v("the id of the device *")])]),t._v(" "),s("tr",[s("td",[t._v("advertisingData")]),t._v(" "),s("td",[t._v("NSData")]),t._v(" "),s("td",[t._v("the advertisement data")])]),t._v(" "),s("tr",[s("td",[t._v("lastUpdate")]),t._v(" "),s("td",[t._v("NSDate")]),t._v(" "),s("td",[t._v("last scanned timestamp")])]),t._v(" "),s("tr",[s("td",[t._v("connection")]),t._v(" "),s("td",[t._v("Connection")]),t._v(" "),s("td",[t._v("the connection status")])]),t._v(" "),s("tr",[s("td",[t._v("rssi")]),t._v(" "),s("td",[t._v("NSInteger")]),t._v(" "),s("td",[t._v("the RSSI")])]),t._v(" "),s("tr",[s("td",[t._v("uuids")]),t._v(" "),s("td",[t._v("NSDictionary")]),t._v(" "),s("td",[t._v("the Service UUID")])]),t._v(" "),s("tr",[s("td",[t._v("infos")]),t._v(" "),s("td",[t._v("NSDictionary")]),t._v(" "),s("td",[t._v("Device informations  **")])])])]),t._v(" "),s("p",[t._v("*：due to the limit of iOS, the SDK can't get the device's Mac address, but you can use the identifier. please note every scan task you will get different identifier for every device.")]),t._v(" "),s("p",[t._v("**： only some device can get the device's information, nil value means not supported.")]),t._v(" "),s("h3",{attrs:{id:"tips"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[t._v("#")]),t._v(" Tips")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("If the running display cannot find the path after adding the SDK, remove the package and add it again at General-> Frameworks,Libraries,and Embedded Content.")])]),t._v(" "),s("li",[s("p",[t._v("If the project crashes after running the SDK, the error is "),s("code",[t._v("**Reason: image not found**")]),t._v(", you can check whether the settings are correct in General -> Frameworks, Libraries, and Embedded Content.")]),t._v(" "),s("p",[s("img",{attrs:{src:"/Users/minew/internet.Docs.mobile/src/zh-CN/iOS/pics/modulekit/Tips_1.png",alt:"Tips_1"}})])])]),t._v(" "),s("h3",{attrs:{id:"change-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#change-log"}},[t._v("#")]),t._v(" Change log")]),t._v(" "),s("ul",[s("li",[t._v("v1.0 first version;")]),t._v(" "),s("li",[t._v("2021.02.01  v1.1 Fix wrong log printing;")])])])}),[],!1,null,null,null);s.default=n.exports}}]);