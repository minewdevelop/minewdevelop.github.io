(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{447:function(a,t,s){"use strict";s.r(t);var n=s(14),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"minewbeaconscan-开发套件说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeaconscan-开发套件说明"}},[a._v("#")]),a._v(" MinewBeaconScan 开发套件说明")]),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("h3",{attrs:{id:"cocoapods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cocoapods"}},[a._v("#")]),a._v(" CocoaPods")]),a._v(" "),t("p",[a._v("MinewBeaconScan可通过"),t("a",{attrs:{href:"http://cocoapods.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("CocoaPods获得"),t("OutboundLink")],1),a._v("。要安装它，只需将以下行添加到您的Podfile中，然后导入 <MinewBeaconScan/MinewBeaconScan.h>：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pod 'MinewBeaconScan'\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"手动添加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动添加"}},[a._v("#")]),a._v(" 手动添加")]),a._v(" "),t("p",[a._v("下载项目，并将MinewBeaconScan.framework拷贝到项目工程目录下，添加到工程中，然后导入<MinewBeaconScan/MinewBeaconScan.h>。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("#import <MinewBeaconScan/MinewBeaconScan.h>\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#要求"}},[a._v("#")]),a._v(" 要求")]),a._v(" "),t("p",[a._v("限制最低系统版本为 iOS 9.0；")]),a._v(" "),t("h2",{attrs:{id:"使用前的配置工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用前的配置工作"}},[a._v("#")]),a._v(" 使用前的配置工作")]),a._v(" "),t("p",[a._v("当前SDK结合Location与Bluetooth两种框架编写。")]),a._v(" "),t("p",[a._v("为了符合苹果的审核规范，需要为是否需求后台支持做一些区分。")]),a._v(" "),t("p",[a._v("针对不需求后台支持的开发者：\n1、执行扫描方法时：[aManager startScan:uuids backgroundSupport :NO];  请按这里将backgroundSupport置为NO。\n2、关闭项目工程中的 Location update 和 Uses Bluetooth LE accessories 两项配置设定。\nPS：由于iOS系统限制，对于某些不支持在后台被检测的蓝牙设备，一旦应用进入后台，数据回调将会终止，尽管此时应用的进程并未处于挂起状态。")]),a._v(" "),t("p",[a._v("针对需求后台支持的开发者：\n1、执行扫描方法时：[aManager startScan:uuids backgroundSupport :YES];请按这里将backgroundSupport置为YES。\n2、需要配置项目工程的后台权限： Location update和 Uses Bluetooth LE accessories。同时在项目plist文件中加入“NSLocationAlwaysUsageDescription”项。\nPS：当应用进入后台时，SDK将切换至后台模式继续扫描，如果周围有可以在后台模式下被检测到的设备，所有代理方法将会正常回调。")]),a._v(" "),t("p",[a._v("针对iOS10系统：")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[a._v("在iOS10系统中，苹果进一步收紧权限控制，我们的SDK使用了蓝牙和地理位置模块，因此需要在工程项目的Plist文件中添加如下配置：\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v(" 蓝牙 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("NSBluetoothPeripheralUsageDescription"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("App需要您的同意"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才能使用蓝牙模块"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v(" 位置 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("NSLocationUsageDescription"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("App需要您的同意"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才能访问位置信息"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v(" 在使用期间访问位置 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("NSLocationWhenInUseUsageDescription"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("App需要您的同意"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才能在使用期间访问位置信息"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n  \n 如果需要持续的后台扫描，那么还需要添加如下配置：\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v(" 始终访问位置 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("NSLocationAlwaysUsageDescription"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("key"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("App需要您的同意"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("才能始终访问位置信息"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br")])]),t("h2",{attrs:{id:"开始使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始使用"}},[a._v("#")]),a._v(" 开始使用")]),a._v(" "),t("p",[a._v("MinewBeaconManager（以下简称Manager）类用来发起和停止扫描周边的蓝牙设备，它将为每一个蓝牙设备生成一个对应的Minewbeacon（以下简称Beacon）实例。当Manager扫描到蓝牙设备时，它会持续监听蓝牙设备的数据更新以及这些设备的进出状态（十秒内没有数据更新的设备被认为是消失设备，第一次扫描到或者消失后再次扫描到的设备被认为是出现设备），同时，Manager类还可以监听蓝牙状态的改变并且回调给对应的代理实例。以下是相关代码。")]),a._v(" "),t("p",[a._v("1.获取设备实例，配置代理:")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("manager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("MinewBeaconManager sharedInstance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nmanager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("delegate "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("self")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("2.扫描设备")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("manager startScan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("@")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"uuid1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"uuid2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" backgroundSupport"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("NO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("3.通过回调获取设备数据更新")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取持续的设备数据更新，此方法每1秒回调一次，当且仅当扫描到设备时才会回调。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager didRangeBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NSLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"current beacons:%@"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[a._v("4.获取beacon实例的数据")]),a._v(" "),t("p",[a._v("​    通过-(MinewBeaconValue *)getBeaconValue:(BeaconValueIndex)index方法来获取设备数据，为了数据通用性，我们使用了MinewBeaconValue类（以下简称value）来统一所有的数据类型，value可以对应字符串、整型、浮点型、布尔型数据。每一个index对应一个值，如下示例：")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("beacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取uuid")]),a._v("\nNSString "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("uuid "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("beacon getBeaconValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("BeaconValueIndex_UUID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("stringValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取major")]),a._v("\nNSInteger major "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("long")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("beacon getBeaconValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("BeaconValueIndex_Major"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("intValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取minor")]),a._v("\nNSInteger minor "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("long")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("beacon getBeaconValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("BeaconValueIndex_Minor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("intValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("p",[a._v("附表：ValueIndex以及对应数据类型")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("index")]),a._v(" "),t("th",[a._v("数据名")]),a._v(" "),t("th",[a._v("类型")]),a._v(" "),t("th",[a._v("备注")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("BeaconValueIndex_UUID")]),a._v(" "),t("td",[a._v("uuid")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Name")]),a._v(" "),t("td",[a._v("设备名")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Major")]),a._v(" "),t("td",[a._v("major")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Minor")]),a._v(" "),t("td",[a._v("minor")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_WechatId")]),a._v(" "),t("td",[a._v("微信设备id")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td",[a._v("部分支持")])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Mac")]),a._v(" "),t("td",[a._v("mac地址")]),a._v(" "),t("td",[a._v("stringValue")]),a._v(" "),t("td",[a._v("部分支持")])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_RSSI")]),a._v(" "),t("td",[a._v("rssi")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_BatteryLevel")]),a._v(" "),t("td",[a._v("电池电量")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Temperature")]),a._v(" "),t("td",[a._v("温度")]),a._v(" "),t("td",[a._v("floatValue")]),a._v(" "),t("td",[a._v("部分支持")])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Humidity")]),a._v(" "),t("td",[a._v("湿度")]),a._v(" "),t("td",[a._v("floatValue")]),a._v(" "),t("td",[a._v("部分支持")])]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Txpower")]),a._v(" "),t("td",[a._v("txPower")]),a._v(" "),t("td",[a._v("intValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_InRange")]),a._v(" "),t("td",[a._v("是否在范围内")]),a._v(" "),t("td",[a._v("boolValue")]),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v("BeaconValueIndex_Connectable")]),a._v(" "),t("td",[a._v("是否可连接")]),a._v(" "),t("td",[a._v("boolValue")]),a._v(" "),t("td")])])]),a._v(" "),t("p",[a._v("你只需要按照对应的index来获取想要的数据就可以了。")]),a._v(" "),t("p",[a._v("至此，就完成了SDK的基础使用，如果需要更多支持可以参照如下示例：")]),a._v(" "),t("p",[a._v("监听设备的进出状态：")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 如果设备8秒内没有数据更新，此设备被认为是已经消失，消失的设备将会在此回调，此方法每5秒一个周期，")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager disappearBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NSLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"---disappear beacons:%@"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 第一次被扫描到的或者消失后重新被扫描到的设备被认为是新出现设备，新出现的设备将会在此回调，此方法每3秒一个周期。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager appearBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NSLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"appear beacons:%@"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("p",[a._v("监听蓝牙模块状态更新")]),a._v(" "),t("p",[a._v("蓝牙状态一共有三种：")]),a._v(" "),t("p",[a._v("BluetoothState：BluetoothStatePowerOn（蓝牙开启），BluetoothStatePowerOff（蓝牙关闭），BluetoothStateUnknown（蓝牙状态未知）")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 因用户或者系统改变的蓝牙开关，都能在以下方法监听到：")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager didUpdateState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("BluetoothState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("state\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NSLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"Bluetooth state:%ld"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("long")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("state"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[a._v("当然，你也可以手动检查蓝牙状态：")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[a._v("BluetoothState state "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("aManager checkBluetoothState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("state "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" BluetoothStatePowerOn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NSLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('@"Bluetooth is PowerOn now."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h2",{attrs:{id:"类说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类说明"}},[a._v("#")]),a._v(" 类说明")]),a._v(" "),t("h3",{attrs:{id:"minewbeacon"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeacon"}},[a._v("#")]),a._v(" MinewBeacon")]),a._v(" "),t("p",[a._v("设备类，每一个设备对应一个此类实例，此类仅有一个方法，通过对应的Index来获取设备的信息：")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconValue "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("getBeaconValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n例如获取某个设备实例的UUID：\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("aBeacon getBeaconValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("BeaconValueIndex_UUID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("stringValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 这里是设备数据的对应枚举；")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// !!!:必须按照每个设备的数据类型来获取数据。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("typedef")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NS_ENUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSInteger"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" BeaconValueIndex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// UUID      ")]),a._v("\n    BeaconValueIndex_UUID "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// stringValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Major ")]),a._v("\n    BeaconValueIndex_Major"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// intValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Minor")]),a._v("\n    BeaconValueIndex_Minor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// intValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Name")]),a._v("\n    BeaconValueIndex_Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// stringValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// RSSI")]),a._v("\n    BeaconValueIndex_RSSI"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//  intValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 电池电量")]),a._v("\n    BeaconValueIndex_BatteryLevel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// intValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 温度，暂时不提供数据")]),a._v("\n    BeaconValueIndex_Temperature"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 湿度 ，暂时不提供数据")]),a._v("\n    BeaconValueIndex_Humidity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// TxPower")]),a._v("\n    BeaconValueIndex_TxPower"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// intValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设备当前是否在可扫描的范围内")]),a._v("\n    BeaconValueIndex_InRage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// boolValue")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 微信设备Id，（部分设备可获取）")]),a._v("\n    BeaconValueIndex_WechatId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// intValue")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br")])]),t("h3",{attrs:{id:"minewbeaconvalue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeaconvalue"}},[a._v("#")]),a._v(" MinewBeaconValue")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设备数据类：MinewBeaconValue，从设备获取的所有数据均得到此类实例，请严格按照对应数据类型获取数据")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取整形数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" assign"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" NSInteger intValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取浮点型数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" assign"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("float")]),a._v(" floatValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取字符串型数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" copy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" NSString "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("stringValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取16进制data型数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" strong"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" NSData  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("dataValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取bool类型数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" assign"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" BOOL boolValue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br")])]),t("h3",{attrs:{id:"minewbeaconmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minewbeaconmanager"}},[a._v("#")]),a._v(" MinewBeaconManager")]),a._v(" "),t("p",[a._v("设备管理类，用来扫描设备以及更新设备状态等。")]),a._v(" "),t("div",{staticClass:"language-objc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-objc"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设备管理类代理")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@protocol")]),a._v(" MinewBeaconManagerDelegate "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("NSObject"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("@")]),a._v("optional\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 发现了新的设备，目前以3秒周期，如果没有发现新设备将不会回调")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager appearBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 如果设备在10秒内没有正常的数据更新，则被视为已经离开扫描范围，此方法会回调。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager disappearBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 每1秒回调一次，当前发现的所有设备，如果周围没有Beacon则不会回调")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("minewBeaconManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("manager didRangeBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("beacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@end")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设备管理类")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@interface")]),a._v(" MinewBeaconManager "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" NSObject\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 单例")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MinewBeaconManager  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("sharedInstance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 开始扫描设备，uuids参数是设备的UUID字符串数组，enable参数提供后台支持，如果为NO，则当应用进入后台时停止扫描，反之，应用进入后台将切换至后台模式继续扫描。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("startScan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("NSString "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("uuids backgroundSupport "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("BOOL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("enable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 停止扫描设备")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("stopScan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 代理指针")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" strong"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeaconManagerDelegate"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" delegate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" assign"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" BluetoothState\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 扫描到的所有设备")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" copy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("scannedBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 当前在范围内的设备")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@property")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("nonatomic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" readonly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" copy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" NSArray"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("MinewBeacon "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("inRangeBeacons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("@end")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br"),t("span",{staticClass:"line-number"},[a._v("32")]),t("br"),t("span",{staticClass:"line-number"},[a._v("33")]),t("br"),t("span",{staticClass:"line-number"},[a._v("34")]),t("br"),t("span",{staticClass:"line-number"},[a._v("35")]),t("br"),t("span",{staticClass:"line-number"},[a._v("36")]),t("br"),t("span",{staticClass:"line-number"},[a._v("37")]),t("br"),t("span",{staticClass:"line-number"},[a._v("38")]),t("br"),t("span",{staticClass:"line-number"},[a._v("39")]),t("br")])]),t("h2",{attrs:{id:"change-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#change-log"}},[a._v("#")]),a._v(" Change log")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("2016.12.22 流程梳理更明确，针对iOS10规范适配。")])]),a._v(" "),t("li",[t("p",[a._v("2016.11.29 添加对新固件的Mac地址数据、温湿度传感器数据的支持。")])]),a._v(" "),t("li",[t("p",[a._v("2016.9.18 针对苹果审核规范修正。")])]),a._v(" "),t("li",[t("p",[a._v("2020.09.18 优化扫描v3设备。")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);