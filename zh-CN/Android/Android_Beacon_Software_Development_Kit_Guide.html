<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MinewBeacon Android开发套件 | 云里物里移动开发</title>
    <meta name="description" content="云里物里移动SDK文档平台">
    
    
    <link rel="preload" href="/assets/css/0.styles.ca1b5866.css" as="style"><link rel="preload" href="/assets/js/app.a01fb809.js" as="script"><link rel="preload" href="/assets/js/21.e163a637.js" as="script"><link rel="prefetch" href="/assets/js/10.e2a86036.js"><link rel="prefetch" href="/assets/js/2.0bf7600d.js"><link rel="prefetch" href="/assets/js/3.f6dc4958.js"><link rel="prefetch" href="/assets/js/4.a7775134.js"><link rel="prefetch" href="/assets/js/5.2b963b60.js"><link rel="prefetch" href="/assets/js/6.d487b4d3.js"><link rel="prefetch" href="/assets/js/7.358db2b1.js"><link rel="prefetch" href="/assets/js/8.0c28f7da.js"><link rel="prefetch" href="/assets/js/9.b35cc178.js"><link rel="prefetch" href="/assets/js/11.47018335.js"><link rel="prefetch" href="/assets/js/12.7fc3bf68.js"><link rel="prefetch" href="/assets/js/13.542f537a.js"><link rel="prefetch" href="/assets/js/14.eb9b367c.js"><link rel="prefetch" href="/assets/js/15.f22229cb.js"><link rel="prefetch" href="/assets/js/16.0680fce0.js"><link rel="prefetch" href="/assets/js/17.f14053da.js"><link rel="prefetch" href="/assets/js/18.7c849573.js"><link rel="prefetch" href="/assets/js/19.63b17b4c.js"><link rel="prefetch" href="/assets/js/20.9b19d5b3.js"><link rel="prefetch" href="/assets/js/22.2cfd09f9.js"><link rel="prefetch" href="/assets/js/23.4d29e84b.js"><link rel="prefetch" href="/assets/js/24.b75cf7fd.js"><link rel="prefetch" href="/assets/js/25.c023be9e.js"><link rel="prefetch" href="/assets/js/26.b7a504ac.js"><link rel="prefetch" href="/assets/js/27.3659652a.js"><link rel="prefetch" href="/assets/js/28.234363b1.js"><link rel="prefetch" href="/assets/js/29.c5c75945.js"><link rel="prefetch" href="/assets/js/30.40e5e2dc.js"><link rel="prefetch" href="/assets/js/31.fe2e4acd.js"><link rel="prefetch" href="/assets/js/32.7aa30448.js"><link rel="prefetch" href="/assets/js/33.80e87a66.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.53980843.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca1b5866.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh-CN/" class="home-link router-link-active"><img src="/minewLogo.png" alt="云里物里移动开发" class="logo"> <span class="site-name can-hide">云里物里移动开发</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">Beacon</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/zh-CN/keepintouch.html" class="nav-link">联系我们</a></div><div class="nav-item"><a href="/zh-CN/about.html" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">Beacon</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/zh-CN/keepintouch.html" class="nav-link">联系我们</a></div><div class="nav-item"><a href="/zh-CN/about.html" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>MinewBeacon Android开发套件</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#开始使用" class="sidebar-link">开始使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#类说明" class="sidebar-link">类说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#minewbeacon" class="sidebar-link">MinewBeacon</a></li><li class="sidebar-sub-header"><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#minewbeaconvalue" class="sidebar-link">MinewBeaconValue</a></li><li class="sidebar-sub-header"><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#蓝牙状态枚举类：" class="sidebar-link">蓝牙状态枚举类：</a></li></ul></li><li><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#minewbeaconmanagerlistener" class="sidebar-link">MinewBeaconManagerListener</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-CN/Android/Android_Beacon_Software_Development_Kit_Guide.html#minewbeaconmanager" class="sidebar-link">MinewBeaconManager</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="minewbeacon-android开发套件"><a href="#minewbeacon-android开发套件" aria-hidden="true" class="header-anchor">#</a> MinewBeacon Android开发套件</h1> <h1 id="新建工程"><a href="#新建工程" aria-hidden="true" class="header-anchor">#</a> 新建工程</h1> <p>Android Studio配置</p> <p>targetSdkVersion版本选择 21
将minewBeaconScan.jar包放入道libs文件夹下,然后在当前工程下的build.gradle文件配置项中的dependencies新增内容,如下compile files('libs/minewBeaconScan.jar')</p> <p>Eclipse配置</p> <p>targetSdkVersion版本选择 21
将scanBeacon.jar包放入道libs文件夹下,右击工程propeties,选择Java build Path，在Library选项中添加minewBeaconScan依赖关系</p> <p>targetSdkVersion版本大于等于23时，需要动态申请权限</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当前SDK需要的权限：
<uses-permission android:name="android.permission.BLUETOOTH"></uses-permission> <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"></uses-permission> <uses-feature android:name="android.hardware.bluetooth_le" android:required="true"></uses-feature>
添加service和receiver,如下
<service android:name="com.minew.beacon.ScanService"></service> <receiver android:name="com.minew.beacon.BluetoothChangedReceiver"><intent-filter><action android:name="android.bluetooth.adapter.action.STATE_CHANGED"></action></intent-filter></receiver>
具体实现细节，请参考demo。</p> <h2 id="开始使用"><a href="#开始使用" aria-hidden="true" class="header-anchor">#</a> 开始使用</h2> <p>MinewBeaconManager（以下简称Manager）类用来发起和停止扫描周边的蓝牙设备，它将为每一个蓝牙设备生成一个对应的Minewbeacon（以下简称Beacon）实例。当Manager扫描到蓝牙设备时，它会持续监听蓝牙设备的数据更新以及这些设备的进出状态（十秒内没有数据更新的设备被认为是消失设备，第一次扫描到或者消失后再次扫描到的设备被认为是出现设备），同时，Manager类还可以监听蓝牙状态的改变并且回调给对应的代理实例。以下是相关代码。</p> <p>1.获取设备实例，配置回调监听:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>MinewBeaconManager mMinewBeaconManager = MinewBeaconManager.getInstance(this);
mMinewBeaconManager.setDeviceManagerDelegateListener(new MinewBeaconManagerListener() {})；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2.扫描设备</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>mMinewBeaconManager.startScan();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>3.通过回调获取设备数据更新</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>// 获取持续的设备数据更新，此方法每1秒回调一次，当且仅当扫描到设备时才会回调。
public void onRangeBeacons(final List&lt;MinewBeacon&gt; minewBeacons) {
                });
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>4.获取beacon实例的数据</p> <p>通过-MinewBeacon.getBeaconValue:(BeaconValueIndex)index方法来获取设备数据，为了数据通用性，我们使用了MinewBeaconValue类（以下简称value）来统一所有的数据类型，value可以对应字符串、整型、浮点型、布尔型数据。每一个index对应一个值，如下示例：</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>在列表中通过Beacon集合展示数据
// 获取uuid
mMinewBeacon.getBeaconValue(BeaconValueIndex.MinewBeaconValueIndex_UUID).getStringValue();
// 获取major
mMinewBeacon.getBeaconValue(BeaconValueIndex.MinewBeaconValueIndex_Major).getStringValue();

// 获取minor
mMinewBeacon.getBeaconValue(BeaconValueIndex.MinewBeaconValueIndex_Minor).getStringValue();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>附表：ValueIndex以及对应数据类型</p> <table><thead><tr><th>index</th> <th>数据名</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>BeaconValueIndex_UUID</td> <td>uuid</td> <td>stringValue</td> <td></td></tr> <tr><td>BeaconValueIndex_Name</td> <td>设备名</td> <td>stringValue</td> <td></td></tr> <tr><td>BeaconValueIndex_Major</td> <td>major</td> <td>intValue</td> <td></td></tr> <tr><td>BeaconValueIndex_Minor</td> <td>minor</td> <td>intValue</td> <td></td></tr> <tr><td>BeaconValueIndex_WechatId</td> <td>微信设备id</td> <td>intValue</td> <td>部分支持</td></tr> <tr><td>BeaconValueIndex_Mac</td> <td>mac地址</td> <td>stringValue</td> <td>部分支持</td></tr> <tr><td>BeaconValueIndex_RSSI</td> <td>rssi</td> <td>intValue</td> <td></td></tr> <tr><td>BeaconValueIndex_BatteryLevel</td> <td>电池电量</td> <td>intValue</td> <td></td></tr> <tr><td>BeaconValueIndex_Temperature</td> <td>温度</td> <td>floatValue</td> <td>部分支持</td></tr> <tr><td>BeaconValueIndex_Humidity</td> <td>湿度</td> <td>floatValue</td> <td>部分支持</td></tr> <tr><td>BeaconValueIndex_Txpower</td> <td>txPower</td> <td>intValue</td> <td></td></tr> <tr><td>BeaconValueIndex_InRange</td> <td>是否在范围内</td> <td>boolValue</td> <td></td></tr> <tr><td>BeaconValueIndex_Connectable</td> <td>是否可连接</td> <td>boolValue</td> <td></td></tr></tbody></table> <p>你只需要按照对应的index来获取想要的数据就可以了。</p> <p>至此，就完成了SDK的基础使用，如果需要更多支持可以参照如下示例：</p> <p>监听设备的进出状态：</p> <div class="language-Android line-numbers-mode"><pre class="language-text"><code>// 如果设备8秒内没有数据更新，此设备被认为是已经消失，消失的设备将会在此回调，此方法每5秒一个周期，
public void onDisappearBeacons(List&lt;MinewBeacon&gt; minewBeacons) {
                for (MinewBeacon minewBeacon : minewBeacons) {
                    String deviceName = minewBeacon.getBeaconValue(BeaconValueIndex.MinewBeaconValueIndex_Name).getStringValue();
                    Toast.makeText(getApplicationContext(), deviceName + &quot;  out range&quot;, Toast.LENGTH_SHORT).show();
                }
            }
}

// 第一次被扫描到的或者消失后重新被扫描到的设备被认为是新出现设备，新出现的设备将会在此回调，此方法每3秒一个周期。
  public void onAppearBeacons(List&lt;MinewBeacon&gt; minewBeacons) {

  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>监听蓝牙模块状态更新</p> <p>蓝牙状态一共有三种：</p> <p>BluetoothState：BluetoothStatePowerOn（蓝牙开启），BluetoothStatePowerOff（蓝牙关闭），BluetoothStateNotSupport（蓝牙不支持ble）</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>// 因用户或者系统改变的蓝牙开关，都能在以下方法监听到：
  public void onUpdateBluetoothState(BluetoothState state) {

  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当然，你也可以手动检查蓝牙状态：</p> <div class="language-Android line-numbers-mode"><pre class="language-text"><code>BluetoothState bluetoothState = mMinewDeviceManager.checkBluetoothState();
        switch (bluetoothState) {
            case BluetoothStateNotSupported:
                Toast.makeText(this, &quot;Not Support BLE&quot;, Toast.LENGTH_SHORT).show();
                finish();
                break;
            case BluetoothStatePowerOff:
                showBLEDialog();
                break;
            case BluetoothStatePowerOn:
                break;
        }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="类说明"><a href="#类说明" aria-hidden="true" class="header-anchor">#</a> 类说明</h2> <h3 id="minewbeacon"><a href="#minewbeacon" aria-hidden="true" class="header-anchor">#</a> MinewBeacon</h3> <p>设备类，每一个设备对应一个此类实例，此类仅有一个方法，通过对应的Index来获取设备的信息：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public MinewBeaconValue getBeaconValue(NS_ENUM ns_enum);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例如获取某个设备实例的UUID：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>aBeacon getBeaconValue(NS_ENUM.MinewBeaconValueIndex_UUID).getStringValue;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 这里是设备数据的对应枚举；
// !!!:必须按照每个设备的数据类型来获取数据。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public enum BeaconValueIndex {

  MinewBeaconValueIndex_UUID,  // UUID

  MinewBeaconValueIndex_Major,   // major

  MinewBeaconValueIndex_Minor,   // minor

  MinewBeaconValueIndex_Name,   // 设备名称

  MinewBeaconValueIndex_RSSI,   // RSSI

  MinewBeaconValueIndex_BatteryLevel,  // 电池电量

  //MinewBeaconValueIndex_Temperature,  // 温度 暂不提供数据

//MinewBeaconValueIndex_Humidity,   // 湿度 暂不提供数据

  MinewBeaconValueIndex_TxPower,  // TxPower

  MinewBeaconValueIndex_InRage  // 是否在范围内

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="minewbeaconvalue"><a href="#minewbeaconvalue" aria-hidden="true" class="header-anchor">#</a> MinewBeaconValue</h3> <p>设备数据类：MinewBeaconValue，从设备获取的所有数据均得到此类实例，请严格按照对应数据类型获取数据
//  获取整形数据
private int intValue;</p> <pre><code>// 获取浮点型数据
private float floatValue;

// 获取字符串型数据
private String stringValue;

//获取boolean型数据
private boolean bool;

// 获取16进制data型数据
private byte[] dataValue;
</code></pre> <h3 id="蓝牙状态枚举类："><a href="#蓝牙状态枚举类：" aria-hidden="true" class="header-anchor">#</a> 蓝牙状态枚举类：</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>public enum  BluetoothState {
    BluetoothStatePowerOn, //蓝牙已开启

    BluetoothStatePowerOff, //蓝牙已关闭

    BluetoothStateNotSupported,//不支持蓝牙4.0
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="minewbeaconmanagerlistener"><a href="#minewbeaconmanagerlistener" aria-hidden="true" class="header-anchor">#</a> MinewBeaconManagerListener</h2> <pre><code>设备管理类回调接口。
// 发现了新的设备，该函数每3秒回调一次
void onAppearBeacons(List&lt;MinewBeacon&gt; minewBeacons);

// 设备消失的情况下，每秒钟回调一次。
void onDisappearBeacons(List&lt;MinewBeacon&gt; minewBeacons);

//定期回调数据更新函数，每秒钟回调一次
void onRangeBeacons(List&lt;MinewBeacon&gt; minewBeacons);

// 蓝牙状态更新
void onUpdateState(BluetoothState state);
</code></pre> <h2 id="minewbeaconmanager"><a href="#minewbeaconmanager" aria-hidden="true" class="header-anchor">#</a> MinewBeaconManager</h2> <p>设备管理类，用来扫描设备以及更新设备状态等。
// 设备管理类代理
public void setDeviceManagerDelegateListener(MinewBeaconManagerListener minewBeaconManagerListener) {
}
// 单例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public static MinewBeaconManager getInstance(Context context) {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 获取蓝牙状态</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public BluetoothState checkBluetoothState() {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 开始扫描设备</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public void startScan() throws Exception {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 停止扫描设备</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public void stopScan() {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 扫描到的所有设备</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public static List&lt;MinewBeacon&gt; scannedBeacons;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>// 当前在范围内的设备</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public static List&lt;MinewBeacon&gt; inRangeBeacons;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="change-log"><a href="#change-log" aria-hidden="true" class="header-anchor">#</a> Change log</h1> <p>2016.11.29 添加对温湿度传感器数据的支持。</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:: </span> <span class="time">2018/9/5 下午4:58:02</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/21.e163a637.js" defer></script><script src="/assets/js/app.a01fb809.js" defer></script>
  </body>
</html>
