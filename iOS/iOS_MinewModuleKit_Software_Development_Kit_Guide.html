<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MinewModuleKit Programming Guide for iOS | Minew mobile</title>
    <meta name="description" content="A documention site for minew mobile SDKs">
    
    
    <link rel="preload" href="/assets/css/0.styles.ca1b5866.css" as="style"><link rel="preload" href="/assets/js/app.a01fb809.js" as="script"><link rel="preload" href="/assets/js/16.0680fce0.js" as="script"><link rel="prefetch" href="/assets/js/10.e2a86036.js"><link rel="prefetch" href="/assets/js/2.0bf7600d.js"><link rel="prefetch" href="/assets/js/3.f6dc4958.js"><link rel="prefetch" href="/assets/js/4.a7775134.js"><link rel="prefetch" href="/assets/js/5.2b963b60.js"><link rel="prefetch" href="/assets/js/6.d487b4d3.js"><link rel="prefetch" href="/assets/js/7.358db2b1.js"><link rel="prefetch" href="/assets/js/8.0c28f7da.js"><link rel="prefetch" href="/assets/js/9.b35cc178.js"><link rel="prefetch" href="/assets/js/11.47018335.js"><link rel="prefetch" href="/assets/js/12.7fc3bf68.js"><link rel="prefetch" href="/assets/js/13.542f537a.js"><link rel="prefetch" href="/assets/js/14.eb9b367c.js"><link rel="prefetch" href="/assets/js/15.f22229cb.js"><link rel="prefetch" href="/assets/js/17.f14053da.js"><link rel="prefetch" href="/assets/js/18.7c849573.js"><link rel="prefetch" href="/assets/js/19.63b17b4c.js"><link rel="prefetch" href="/assets/js/20.9b19d5b3.js"><link rel="prefetch" href="/assets/js/21.e163a637.js"><link rel="prefetch" href="/assets/js/22.2cfd09f9.js"><link rel="prefetch" href="/assets/js/23.4d29e84b.js"><link rel="prefetch" href="/assets/js/24.b75cf7fd.js"><link rel="prefetch" href="/assets/js/25.c023be9e.js"><link rel="prefetch" href="/assets/js/26.b7a504ac.js"><link rel="prefetch" href="/assets/js/27.3659652a.js"><link rel="prefetch" href="/assets/js/28.234363b1.js"><link rel="prefetch" href="/assets/js/29.c5c75945.js"><link rel="prefetch" href="/assets/js/30.40e5e2dc.js"><link rel="prefetch" href="/assets/js/31.fe2e4acd.js"><link rel="prefetch" href="/assets/js/32.7aa30448.js"><link rel="prefetch" href="/assets/js/33.80e87a66.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.53980843.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca1b5866.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/minewLogo.png" alt="Minew mobile" class="logo"> <span class="site-name can-hide">Minew mobile</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/keepintouch.html" class="nav-link">Contact us</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">语言切换</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">简体中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/keepintouch.html" class="nav-link">Contact us</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">语言切换</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">简体中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>MinewModuleKit Programming Guide for iOS</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html#minewmodulekit-programming-guide-for-ios" class="sidebar-link">MinewModuleKit Programming Guide for iOS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html#preworks" class="sidebar-link">PreWorks</a></li><li class="sidebar-sub-header"><a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html#start-developing" class="sidebar-link">Start Developing</a></li><li class="sidebar-sub-header"><a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html#tables" class="sidebar-link">Tables</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="minewmodulekit-programming-guide-for-ios"><a href="#minewmodulekit-programming-guide-for-ios" aria-hidden="true" class="header-anchor">#</a> MinewModuleKit Programming Guide for iOS</h2> <p>This SDK only supports the module device producted by Minew. The developers can handle all bluetooth operations between iPhone and modules. such as: scan modules, connect modules, write data to modules, receive data from modules and so on.</p> <h3 id="preworks"><a href="#preworks" aria-hidden="true" class="header-anchor">#</a> PreWorks</h3> <p>This framework is very simple: the MTModuleManager is device managing Class, always using shared instance when the APP is running. the MTModule is device instance Class, the SDK will create instances for devices. the developer can use the MTModule instance for operate module devices.</p> <p>The framework is as the screenshot below:</p> <p><img src="/assets/img/design.ac742719.png" alt="设计说明"></p> <p><em>MTModuleManager：</em> Device managing class, you can scan module devices around, and connect to the modules.</p> <p><em>MTModule：</em> the Module instance class, when the manager found a physical module device it will create a module instance for the device, the instance is correspond to the module device.</p> <h3 id="start-developing"><a href="#start-developing" aria-hidden="true" class="header-anchor">#</a> Start Developing</h3> <h5 id="environment："><a href="#environment：" aria-hidden="true" class="header-anchor">#</a> Environment：</h5> <ul><li>Xcode9+，This SDK is compiled by Xcode9, Please use Xcode 9 or higher version.</li> <li>iOS8，Limit the lowest system version to iOS8;</li></ul> <h5 id="import-to-project"><a href="#import-to-project" aria-hidden="true" class="header-anchor">#</a> Import to project:</h5> <ol><li><p>please copy the framework file &quot;MTModuleKit.framework&quot; to your project, then add to your project.  as the screenshot below:</p> <p><img src="/assets/img/addframework.afaca928.png" alt="添加framework"></p></li> <li><p>Please Click: “Target” -&gt; General -&gt; Embedded Binaries , then click the  &quot;+&quot; button and click &quot;Add Other&quot; add the framework to &quot;Embedded Binaries&quot;, same in ”Linked Frameworks and Libraries“, as the screenshot below:</p></li></ol> <p><img src="/assets/img/frameworkadded.f41a4903.png" alt="frameworkadded"></p> <ol start="3"><li>if you are using Swift for development, you should add a &quot;Objective C BridgingHeader .h&quot; file (do it yourself please), and add &quot;import &lt;MTModuleKit/MTModuleKit.h&gt;&quot; to the file.</li> <li>!!! from iOS10, the developer should add a usage description for the project: add Key-Value &quot;Privacy - Bluetooth Peripheral Usage Description&quot; - &quot;You description&quot; to the info.plist file. as the screenshot below:</li></ol> <p><img src="/assets/img/bluetoothdescription.7ceeb2e7.png" alt="bluetoothdescription"></p> <h4 id="start-developing-2"><a href="#start-developing-2" aria-hidden="true" class="header-anchor">#</a> Start Developing</h4> <h5 id="scan-devices"><a href="#scan-devices" aria-hidden="true" class="header-anchor">#</a> Scan devices</h5> <p>First of all, you need get the shared instance of MTModuleManager, the check the iPhone's bluetooth status, then you can scan the module devices.</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>// get the Manager shared instance.
MTModuleManager *manager = [MTModuleManager sharedInstance];

// the bluetooth status of iPhone
if(manager.status == Poweron) {
     // start scan for devices.
    [manager startScan:^(NSArray&lt;MTModule *&gt; *Modules){
        // it will callback if the SDK found devices.
    }];   
}

// if you need to response for the changes of bluetooth status. please listen to the block
[manager didChangesBluetoothStatus:^(BluetoothStatus status){
    
    switch(status) {
        case Poweron:
            NSLog(@&quot;bluetooth status change to poweron&quot;);
            break;
        case Poweroff:
            NSLog(@&quot;bluetooth status change to poweroff&quot;);
            break;
        case Unknown:
            NSLog(@&quot;bluetooth status change to unknown&quot;);
    }
}];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>Please Note: only the iPhone bluetooth poweron can the SDK works well.</p> <h5 id="connect-to-the-device"><a href="#connect-to-the-device" aria-hidden="true" class="header-anchor">#</a> connect to the device</h5> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>// get the module from last step.
MTModule *module = modules[0];

// listen to the changes of device connection
// ！！！writing data to device needs connected status.
[module didChangeConnection:^(Connection con){
    if(con == Connected) {
        NSLog(@&quot;设备已经建立连接&quot;);
    }
}];

// connect to a module device.
[manager connect:module];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="write-data-to-device"><a href="#write-data-to-device" aria-hidden="true" class="header-anchor">#</a> Write data to device</h5> <p>from last step, you can write or receive data from device when the device connected to iPhone.</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>// write data to device
// at first, make the data you want to write
// This is a 4 bytes data: 0x01,0x02,0x03,0x04.
uint8_t bytes[4] = {0x01, 0x02, 0x03, 0x04};
NSData *data = [NSData dataWithBytes:&amp;bytes length:4];

// then write the data above to device
// you can get a writing result from the block.
[module writeData:data completion:^(BOOL success, NSError *error){
    if(success) {
        NSLog(@&quot;write data successfully.&quot;);
    }
    else {
        NSLog(@&quot;write data failed.&quot;);
    }
}];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="receiving-data-from-device"><a href="#receiving-data-from-device" aria-hidden="true" class="header-anchor">#</a> Receiving data from device.</h5> <p>We don't know when the device send data, so please implementate the block.</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>// the data receiving block.
[module didReceiveData:^(NSData *data){
    NSLog(@&quot;Data received：%@&quot;,data);
}];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="tables"><a href="#tables" aria-hidden="true" class="header-anchor">#</a> Tables</h3> <h5 id="mtmodulemanager-s-properties"><a href="#mtmodulemanager-s-properties" aria-hidden="true" class="header-anchor">#</a> MTModuleManager's properties</h5> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>BluetoothStatus</td> <td>the iPhone's bluetooth status</td></tr> <tr><td>scannedModules</td> <td>NSArray</td> <td>the scanned devices.</td></tr> <tr><td>connectedModules</td> <td>NSArray</td> <td>the connected devices.</td></tr></tbody></table> <h5 id="mtmodule"><a href="#mtmodule" aria-hidden="true" class="header-anchor">#</a> MTModule</h5> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>name</td> <td>NSString</td> <td>the bluetooth name</td></tr> <tr><td>identifier</td> <td>NSString</td> <td>the id of the device *</td></tr> <tr><td>advertisingData</td> <td>NSData</td> <td>the advertisement data</td></tr> <tr><td>lastUpdate</td> <td>NSDate</td> <td>last scanned timestamp</td></tr> <tr><td>connection</td> <td>Connection</td> <td>the connection status</td></tr> <tr><td>rssi</td> <td>NSInteger</td> <td>the RSSI</td></tr> <tr><td>uuids</td> <td>NSDictionary</td> <td>the Service UUID</td></tr> <tr><td>infos</td> <td>NSDictionary</td> <td>Device informations  **</td></tr></tbody></table> <p>*：due to the limit of iOS, the SDK can't get the device's Mac address, but you can use the identifier. please note every scan task you will get different identifier for every device.</p> <p>**： only some device can get the device's information, nil value means not supported.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:: </span> <span class="time">9/5/2018, 4:58:02 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/16.0680fce0.js" defer></script><script src="/assets/js/app.a01fb809.js" defer></script>
  </body>
</html>
