<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mst03SensorKit Documentation | SDK &amp; API</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="SDKs and APIs for MBeacon, BeaconPlus, MSensor, etc.">
    
    <link rel="preload" href="/assets/css/0.styles.44c319ae.css" as="style"><link rel="preload" href="/assets/js/app.fef98304.js" as="script"><link rel="preload" href="/assets/js/2.31f2ce87.js" as="script"><link rel="preload" href="/assets/js/1.a9521bca.js" as="script"><link rel="preload" href="/assets/js/81.ffdbd435.js" as="script"><link rel="prefetch" href="/assets/js/100.54ecfdbe.js"><link rel="prefetch" href="/assets/js/101.55a4a0dd.js"><link rel="prefetch" href="/assets/js/102.f2fc7b39.js"><link rel="prefetch" href="/assets/js/103.b1a15fde.js"><link rel="prefetch" href="/assets/js/104.f174bab9.js"><link rel="prefetch" href="/assets/js/105.75630d9d.js"><link rel="prefetch" href="/assets/js/106.a3d11e42.js"><link rel="prefetch" href="/assets/js/107.a7a5f183.js"><link rel="prefetch" href="/assets/js/108.67bcd1af.js"><link rel="prefetch" href="/assets/js/109.c2e24781.js"><link rel="prefetch" href="/assets/js/11.b61f3949.js"><link rel="prefetch" href="/assets/js/110.f652dcc7.js"><link rel="prefetch" href="/assets/js/111.b48743ee.js"><link rel="prefetch" href="/assets/js/112.30a8837d.js"><link rel="prefetch" href="/assets/js/113.e8cff9ce.js"><link rel="prefetch" href="/assets/js/114.bd0c683b.js"><link rel="prefetch" href="/assets/js/115.78b62576.js"><link rel="prefetch" href="/assets/js/116.20ab4f59.js"><link rel="prefetch" href="/assets/js/117.857e7d59.js"><link rel="prefetch" href="/assets/js/118.bdd02254.js"><link rel="prefetch" href="/assets/js/119.48f203c8.js"><link rel="prefetch" href="/assets/js/12.19e2c148.js"><link rel="prefetch" href="/assets/js/120.969852b6.js"><link rel="prefetch" href="/assets/js/121.e5b80d1e.js"><link rel="prefetch" href="/assets/js/122.92965ffb.js"><link rel="prefetch" href="/assets/js/123.2727505b.js"><link rel="prefetch" href="/assets/js/124.cda0e2d0.js"><link rel="prefetch" href="/assets/js/125.9f47dbc5.js"><link rel="prefetch" href="/assets/js/126.a45ada73.js"><link rel="prefetch" href="/assets/js/127.99f26761.js"><link rel="prefetch" href="/assets/js/128.6409a022.js"><link rel="prefetch" href="/assets/js/129.2e11333f.js"><link rel="prefetch" href="/assets/js/13.bf35e539.js"><link rel="prefetch" href="/assets/js/130.04c68f04.js"><link rel="prefetch" href="/assets/js/131.242cef01.js"><link rel="prefetch" href="/assets/js/132.4ba2b957.js"><link rel="prefetch" href="/assets/js/133.e3c29412.js"><link rel="prefetch" href="/assets/js/14.478ed167.js"><link rel="prefetch" href="/assets/js/15.83a1a568.js"><link rel="prefetch" href="/assets/js/16.f27bc1db.js"><link rel="prefetch" href="/assets/js/17.de28f169.js"><link rel="prefetch" href="/assets/js/18.6db3ccbb.js"><link rel="prefetch" href="/assets/js/19.0f7527b6.js"><link rel="prefetch" href="/assets/js/20.d1fa983b.js"><link rel="prefetch" href="/assets/js/21.fdf873b7.js"><link rel="prefetch" href="/assets/js/22.f86a6b2a.js"><link rel="prefetch" href="/assets/js/23.c962fb9d.js"><link rel="prefetch" href="/assets/js/24.dd5a5066.js"><link rel="prefetch" href="/assets/js/25.60fa12e9.js"><link rel="prefetch" href="/assets/js/26.076a9c0b.js"><link rel="prefetch" href="/assets/js/27.bbba3e2f.js"><link rel="prefetch" href="/assets/js/28.94e3a977.js"><link rel="prefetch" href="/assets/js/29.1f02f5e9.js"><link rel="prefetch" href="/assets/js/3.4daa0608.js"><link rel="prefetch" href="/assets/js/30.7666f34e.js"><link rel="prefetch" href="/assets/js/31.efc60d8c.js"><link rel="prefetch" href="/assets/js/32.8f2bb9b7.js"><link rel="prefetch" href="/assets/js/33.8dbe0a28.js"><link rel="prefetch" href="/assets/js/34.22a67dce.js"><link rel="prefetch" href="/assets/js/35.84bd4176.js"><link rel="prefetch" href="/assets/js/36.d8ecb1a6.js"><link rel="prefetch" href="/assets/js/37.2bb9c15b.js"><link rel="prefetch" href="/assets/js/38.e4485167.js"><link rel="prefetch" href="/assets/js/39.5765aa19.js"><link rel="prefetch" href="/assets/js/4.54dd87c7.js"><link rel="prefetch" href="/assets/js/40.39b7a973.js"><link rel="prefetch" href="/assets/js/41.6dbb2693.js"><link rel="prefetch" href="/assets/js/42.5122c78e.js"><link rel="prefetch" href="/assets/js/43.1cb8bebc.js"><link rel="prefetch" href="/assets/js/44.2173a006.js"><link rel="prefetch" href="/assets/js/45.a58e8a25.js"><link rel="prefetch" href="/assets/js/46.e01d23ab.js"><link rel="prefetch" href="/assets/js/47.61660617.js"><link rel="prefetch" href="/assets/js/48.f85a4831.js"><link rel="prefetch" href="/assets/js/49.e6e930f7.js"><link rel="prefetch" href="/assets/js/5.17cd0efc.js"><link rel="prefetch" href="/assets/js/50.e2d00833.js"><link rel="prefetch" href="/assets/js/51.8d7c283e.js"><link rel="prefetch" href="/assets/js/52.44f68518.js"><link rel="prefetch" href="/assets/js/53.2c1573a3.js"><link rel="prefetch" href="/assets/js/54.f1f5c4dd.js"><link rel="prefetch" href="/assets/js/55.798ced28.js"><link rel="prefetch" href="/assets/js/56.aa0fd809.js"><link rel="prefetch" href="/assets/js/57.89da00b3.js"><link rel="prefetch" href="/assets/js/58.136bcb3a.js"><link rel="prefetch" href="/assets/js/59.6aefb692.js"><link rel="prefetch" href="/assets/js/6.4693f4d7.js"><link rel="prefetch" href="/assets/js/60.e8adf440.js"><link rel="prefetch" href="/assets/js/61.8240b6a0.js"><link rel="prefetch" href="/assets/js/62.183a9f0f.js"><link rel="prefetch" href="/assets/js/63.c8ba761d.js"><link rel="prefetch" href="/assets/js/64.ca9adaaf.js"><link rel="prefetch" href="/assets/js/65.69817988.js"><link rel="prefetch" href="/assets/js/66.06def160.js"><link rel="prefetch" href="/assets/js/67.7eb8009c.js"><link rel="prefetch" href="/assets/js/68.8866be89.js"><link rel="prefetch" href="/assets/js/69.2b683fe3.js"><link rel="prefetch" href="/assets/js/7.28c424b4.js"><link rel="prefetch" href="/assets/js/70.a4692fcf.js"><link rel="prefetch" href="/assets/js/71.ffc2d4c3.js"><link rel="prefetch" href="/assets/js/72.44cdb27c.js"><link rel="prefetch" href="/assets/js/73.99a10aa4.js"><link rel="prefetch" href="/assets/js/74.78d59507.js"><link rel="prefetch" href="/assets/js/75.723e0570.js"><link rel="prefetch" href="/assets/js/76.2c88a84f.js"><link rel="prefetch" href="/assets/js/77.592a5098.js"><link rel="prefetch" href="/assets/js/78.2872e3c9.js"><link rel="prefetch" href="/assets/js/79.1ed4c3d8.js"><link rel="prefetch" href="/assets/js/8.957badf2.js"><link rel="prefetch" href="/assets/js/80.21f6345b.js"><link rel="prefetch" href="/assets/js/82.f12e33cc.js"><link rel="prefetch" href="/assets/js/83.e169de25.js"><link rel="prefetch" href="/assets/js/84.01013dfe.js"><link rel="prefetch" href="/assets/js/85.0ec937e1.js"><link rel="prefetch" href="/assets/js/86.c927785a.js"><link rel="prefetch" href="/assets/js/87.2caa4987.js"><link rel="prefetch" href="/assets/js/88.782ec634.js"><link rel="prefetch" href="/assets/js/89.d7d76d3c.js"><link rel="prefetch" href="/assets/js/90.b3219e78.js"><link rel="prefetch" href="/assets/js/91.582bdb75.js"><link rel="prefetch" href="/assets/js/92.cb3c201d.js"><link rel="prefetch" href="/assets/js/93.369fca1e.js"><link rel="prefetch" href="/assets/js/94.d38be9c3.js"><link rel="prefetch" href="/assets/js/95.a142f7de.js"><link rel="prefetch" href="/assets/js/96.a4abd30b.js"><link rel="prefetch" href="/assets/js/97.0fff9d4b.js"><link rel="prefetch" href="/assets/js/98.cedca655.js"><link rel="prefetch" href="/assets/js/99.87ee2fde.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0053ac3f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.44c319ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://www.minew.com/" target="_blank" class="home-link"><img src="/header-logo.png" alt="SDK &amp; API" class="logo"> <span class="site-name can-hide"></span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorV3Kit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Repeater_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Radar_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mbt02_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_pt100_Software_Development_Kit_Guide.html" class="nav-link">
  PT100SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_RadarSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_S4_Software_Development_Kit_Guide.html" class="nav-link">
  S4V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst01_PT100_Software_Development_Kit_Guide.html" class="nav-link">
  MST01_PT100_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB02_Software_Development_Kit_Guide.html" class="nav-link">
  MTB02_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_version2_Software_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/Android/Android_MinewSensorKit_v3_Mwc01_Software_Development_Kit_Guide.html" class="nav-link">
  Badge Bluetooth® Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_Connectable_Asset_Tag_Software_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB06_Software_Development_Kit_Guide.html" class="nav-link">
  MTB06_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB11_Software_Development_Kit_Guide.html" class="nav-link">
  MTB11_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewMWC03Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWC03Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Msd01_Software_Development_Kit_Guide.html" class="nav-link">
  MSD01Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Minew_MWB02_Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWB02Kit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorV3Kit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Repeater_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Radar_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mbt02_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_pt100_Software_Development_Kit_Guide.html" class="nav-link">
  PT100SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_RadarSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_S4_Software_Development_Kit_Guide.html" class="nav-link">
  S4V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst01_PT100_Software_Development_Kit_Guide.html" class="nav-link">
  MST01_PT100_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB02_Software_Development_Kit_Guide.html" class="nav-link">
  MTB02_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_version2_Software_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/Android/Android_MinewSensorKit_v3_Mwc01_Software_Development_Kit_Guide.html" class="nav-link">
  Badge Bluetooth® Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_Connectable_Asset_Tag_Software_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB06_Software_Development_Kit_Guide.html" class="nav-link">
  MTB06_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB11_Software_Development_Kit_Guide.html" class="nav-link">
  MTB11_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewMWC03Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWC03Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Msd01_Software_Development_Kit_Guide.html" class="nav-link">
  MSD01Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Minew_MWB02_Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWB02Kit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Mst03SensorKit Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#mst03sensorkit-documentation" class="sidebar-link">Mst03SensorKit Documentation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#preliminary-work" class="sidebar-link">Preliminary work</a></li><li class="sidebar-sub-header"><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#get-started" class="sidebar-link">Get started</a></li><li class="sidebar-sub-header"><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#import-into-the-project" class="sidebar-link">Import into the project:：</a></li><li class="sidebar-sub-header"><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#other-command-operations" class="sidebar-link">Other command operations</a></li></ul></li><li><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#precautions" class="sidebar-link">Precautions</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html#documentation-version-record" class="sidebar-link">Documentation version record</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="mst03sensorkit-documentation"><a href="#mst03sensorkit-documentation" class="header-anchor">#</a> Mst03SensorKit Documentation</h2> <p>​	This set of SDK only supports the Bluetooth Sensor device produced by Minew, and is currently a industrial temperature and humidity sensor. The SDK can help developers handle all the work between mobile phones and Sensors, including: scanning devices, connecting devices, writing data to devices, receiving data from devices, etc.</p> <h3 id="preliminary-work"><a href="#preliminary-work" class="header-anchor">#</a> Preliminary work</h3> <p>​	Overall framework: MTICentralManager is a device management class, which is always a singleton when the APP is running. MTIPeripheral is a device instance class. This suite will generate a MTIPeripheral instance for each device to facilitate monitoring and operating devices.</p> <p><strong>MTICentralManager</strong> : Device management class, which can scan the surrounding Sensor devices, and can connect them, verify them, etc.</p> <p><strong>MTIPeripheral</strong> : Device instance class. When MTICentralManager discovers a physical device, MTICentralManager will generate a MTIPeripheral instance, which corresponds to a physical device.</p> <p><strong>MTIFrameHandler</strong> : Device broadcast class, which can get the data when the device broadcasts.</p> <p><strong>MTConnectionHandler</strong> : Device connection class for receiving and sending data from the device.</p> <p><strong>MTISensorHandler</strong>：传感器操作类，进行设备的读写数据。</p> <ul><li><h3 id="get-started"><a href="#get-started" class="header-anchor">#</a> Get started</h3> <h5 id="development-environment"><a href="#development-environment" class="header-anchor">#</a> Development environment:</h5> <p>-Xcode10 +, the current SDK is compiled with Xcode15, please use Xcode10 and above for development;
-iOS12.0, the minimum system version is iOS12;</p></li></ul> <h3 id="import-into-the-project"><a href="#import-into-the-project" class="header-anchor">#</a> Import into the project:：</h3> <ol><li><p>Manually</p> <ul><li>Copy the development kit files: MTIndustrialSensorKit.framework files to the project project directory, and then add them to the project.</li></ul></li> <li><p>PS:</p> <ol><li>!!! In iOS10 and above, Apple added permission restrictions on Bluetooth APi. You need to add a string to the project's info.plist file: Privacy-Bluetooth Peripheral Usage Description-&quot;Your usage description&quot;.</li> <li>!!! In iOS13 and above, Apple added permission restrictions on Bluetooth APi. You need to add a string to the project's info.plist file: Privacy-Bluetooth Always Usage Description-&quot;Your usage description&quot;.</li></ol></li></ol> <h4 id="start-development"><a href="#start-development" class="header-anchor">#</a> Start development</h4> <h5 id="scanning-equipment"><a href="#scanning-equipment" class="header-anchor">#</a> Scanning equipment</h5> <p>​	First you need to get the singleton of MTICentralManager, then check the current Bluetooth status of the phone, and then you can scan the device.</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token comment">// Get Manager singleton</span>
MTICentralManagerV3 <span class="token operator">*</span>manager <span class="token operator">=</span> <span class="token punctuation">[</span>MTICentralManagerV3 sharedInstance<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">dispatch_after</span><span class="token punctuation">(</span><span class="token function">dispatch_time</span><span class="token punctuation">(</span>DISPATCH_TIME_NOW<span class="token punctuation">,</span> <span class="token punctuation">(</span>int64_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> NSEC_PER_SEC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
    <span class="token comment">// The current state of the Bluetooth switch on the mobile phone</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token operator">-&gt;</span>manager<span class="token punctuation">.</span>status <span class="token operator">==</span> PowerStatePoweredOn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// start device scan</span>
        <span class="token punctuation">[</span>manager startScan<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>MTIPeripheral <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>peripherals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//According to the type of broadcast attribute, the required sensor type can be filtered.</span>
        	<span class="token keyword">self</span><span class="token operator">-&gt;</span>deviceAry <span class="token operator">=</span> peripherals<span class="token punctuation">;</span>
    	<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Scanned devices can also be obtained using manager.scannedPeris</span>
<span class="token comment">// If you need to respond to the Bluetooth status of your phone. Please listen for the callback.</span>
<span class="token punctuation">[</span>manager didChangesBluetoothStatus<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>PowerState status<span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    <span class="token keyword">switch</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> PowerStatePoweredOn<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;bluetooth status change to poweron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> PowerStatePoweredOff<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;bluetooth status change to poweroff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> PowerStateUnknown<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;bluetooth status change to unknown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>PS: The entire SDK works only when the Bluetooth state of the phone is in Poweron.</strong></p> <h5 id="connect-to-device"><a href="#connect-to-device" class="header-anchor">#</a> Connect to device</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token comment">// The scanned device can be obtained from the previous step</span>
MTIPeripheralV3 <span class="token operator">*</span>device <span class="token operator">=</span> deviceAry<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Connect the device</span>
<span class="token punctuation">[</span>manager connectToPeriperal<span class="token punctuation">:</span>device SecretKey<span class="token punctuation">:</span><span class="token string">@&quot;Device's secretKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Listen for device connection status.</span>
<span class="token punctuation">[</span>p<span class="token punctuation">.</span>connector didChangeConnection<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>Connection connection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">==</span> Vaildated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      	<span class="token comment">// Successful verification, successfully connected to the device</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;vaildated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      	<span class="token comment">//Need to write a password, perform other operations after the password is verified successfully</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">==</span> Disconnected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;device has disconnected.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="other-command-operations"><a href="#other-command-operations" class="header-anchor">#</a> Other command operations</h3> <p>Continuing from the previous step, when the device successfully verifies that the written secretKey is correct, other command operations can be performed.</p> <p>The following operations are in no particular order and can be selected by yourself.</p> <h5 id="factory-reset"><a href="#factory-reset" class="header-anchor">#</a> Factory Reset</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>
 <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler resetDevice<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Parameter Reset successfully&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span>MTICentralManager sharedInstance<span class="token punctuation">]</span> disconnectFromPeriperal<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token operator">-&gt;</span>device<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Parameter Reset failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="shutdown"><a href="#shutdown" class="header-anchor">#</a> Shutdown</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler powerOffWithCompletionHandle<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
             <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Shutdown successfully&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Shutdown failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="get-the-broadcast-parameters-for-the-device-information-frame"><a href="#get-the-broadcast-parameters-for-the-device-information-frame" class="header-anchor">#</a> Get the broadcast parameters for the device information frame</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">/// Get the device information frame broadcast parameters</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler getDeviceInfoFrameAdvertisingParameters<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">,</span> MTIAdvertisingParametersData <span class="token operator">*</span> _Nonnull data<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Information Frame Type: %@, Broadcast Interval: %ld, Broadcast Power: %d, Continuous Broadcast: %@&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>frameType <span class="token operator">==</span> MTIFrameDeviceInfo <span class="token operator">?</span> <span class="token string">@&quot;Device Information Frame&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;Temperature frame&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>advertisingInterval<span class="token punctuation">,</span> data<span class="token punctuation">.</span>txPower<span class="token punctuation">,</span> data<span class="token punctuation">.</span>isAlwaysAdvertising <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span><span class="token punctuation">:</span><span class="token string">@&quot;No&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="set-the-broadcast-parameters-for-device-information-frames"><a href="#set-the-broadcast-parameters-for-device-information-frames" class="header-anchor">#</a> Set the broadcast parameters for device information frames</h5> <p>Note that the value of broadcast power can only be set -40, -20, -16, -12, -8, -4, 0, 4。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token keyword">int</span> interval <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// unit is ms.</span>
    <span class="token keyword">int</span> txpower <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    
    <span class="token comment">/// Set device information frame broadcast parameters</span>
    <span class="token comment">/// @param advertisingInterval Broadcast interval in milliseconds</span>
    <span class="token comment">/// @param txPower -40 -20 -16 -12 -8 -4 0 4dBm</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler setDeviceInfoFrameAdvertisingParametersConfiguration<span class="token punctuation">:</span>interval TxPower<span class="token punctuation">:</span>txpower CompletionHandle<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Setting deviceInfo frame configuration parameters successfully&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Setting deviceInfo frame configuration parameters failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="get-the-broadcast-parameters-of-the-temperature-broadcast-frame"><a href="#get-the-broadcast-parameters-of-the-temperature-broadcast-frame" class="header-anchor">#</a> Get the broadcast parameters of the temperature broadcast frame</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">/// Get the industrial temperature frame broadcast parameters</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler getIndustryHTFrameAdvertisingParameters<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">,</span> MTIAdvertisingParametersData <span class="token operator">*</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Information Frame Type: %@, Broadcast Interval: %ld, Broadcast Power: %d, Continuous Broadcast: %@, Device Name: %@&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>frameType <span class="token operator">==</span> MTIFrameDeviceInfo <span class="token operator">?</span> <span class="token string">@&quot;Device Information Frame&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;Temperature frame&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>advertisingInterval<span class="token punctuation">,</span> data<span class="token punctuation">.</span>txPower<span class="token punctuation">,</span> data<span class="token punctuation">.</span>isAlwaysAdvertising <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span><span class="token punctuation">:</span><span class="token string">@&quot;No&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>deviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="set-the-broadcast-parameters-of-the-humidity-and-temperature-broadcast-frame"><a href="#set-the-broadcast-parameters-of-the-humidity-and-temperature-broadcast-frame" class="header-anchor">#</a> Set the broadcast parameters of the humidity and temperature broadcast frame</h5> <p>Note that the value of broadcast power can only be set -40, -20, -16, -12, -8, -4, 0, 4。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">// Set the device name to no more than eight digits/letters, and types other than numbers/letters are not supported.</span>
    NSString <span class="token operator">*</span>deviceName <span class="token operator">=</span> <span class="token string">@&quot;MST03&quot;</span><span class="token punctuation">;</span>
    
    
    <span class="token keyword">int</span> interval <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span> <span class="token comment">// unit is ms.</span>
    <span class="token keyword">int</span> txpower <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token comment">/// Set industrial temperature and humidity frame broadcast parameters</span>
    <span class="token comment">/// @param advertisingInterval Broadcast interval in milliseconds</span>
    <span class="token comment">/// @param txPower -40 -20 -16 -12 -8 -4 0 4dBm</span>
    <span class="token comment">/// @param deviceName device name</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler setAssetTemFrameAdvertisingParametersConfiguration<span class="token punctuation">:</span>interval TxPower<span class="token punctuation">:</span>txpower DeveceName<span class="token punctuation">:</span>deviceName CompletionHandle<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Setting temperature and humidity broadcast frame configuration parameters successfully&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Setting temperature and humidity broadcast frame configuration parameters failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h5 id="get-the-configuration-parameters-of-industrial-temperature-sensors"><a href="#get-the-configuration-parameters-of-industrial-temperature-sensors" class="header-anchor">#</a> Get the configuration parameters of industrial temperature sensors</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">/// Get industrial humidity and temperature sensor configurations</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler getAssetTemSensorConfiguration<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">,</span> MTIHTSensorConfigParm <span class="token operator">*</span> _Nonnull data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get htSensor configuration success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            NSArray<span class="token operator">&lt;</span>MTIHTSensorWarmingSettingModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>MTIHTSensorWarmingSettingModels <span class="token operator">=</span> data<span class="token punctuation">.</span>MTIHTSensorWarmingSettingModels<span class="token punctuation">;</span>
            MTIHTSensorWarmingSettingModel <span class="token operator">*</span>model1 <span class="token operator">=</span> MTIHTSensorWarmingSettingModels<span class="token punctuation">.</span>firstObject<span class="token punctuation">;</span>
            MTIHTSensorWarmingSettingModel <span class="token operator">*</span>model2 <span class="token operator">=</span> MTIHTSensorWarmingSettingModels<span class="token punctuation">.</span>lastObject<span class="token punctuation">;</span>
            
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;The first set of trigger thresholds High temperature-low temperature: %f-%f, high humidity-low humidity: %f-%f, temperature switch: %@, humidity switch:%@ \n&quot;</span><span class="token punctuation">,</span> model1<span class="token punctuation">.</span>highTemperature<span class="token punctuation">,</span> model1<span class="token punctuation">.</span>lowTemperature<span class="token punctuation">,</span> model1<span class="token punctuation">.</span>highHumidity<span class="token punctuation">,</span> model1<span class="token punctuation">.</span>lowHumidity<span class="token punctuation">,</span> model1<span class="token punctuation">.</span>isOpenTempAlarmSwitch <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span> <span class="token punctuation">:</span> <span class="token string">@&quot;NO&quot;</span><span class="token punctuation">,</span> model1<span class="token punctuation">.</span>isOpenHumiAlarmSwitch <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span> <span class="token punctuation">:</span> <span class="token string">@&quot;NO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;The second set of trigger thresholds High temperature-low temperature: %f-%f, high humidity-low humidity: %f-%f, temperature switch: %@, humidity switch:%@ \n&quot;</span><span class="token punctuation">,</span> model2<span class="token punctuation">.</span>highTemperature<span class="token punctuation">,</span> model2<span class="token punctuation">.</span>lowTemperature<span class="token punctuation">,</span> model2<span class="token punctuation">.</span>highHumidity<span class="token punctuation">,</span> model2<span class="token punctuation">.</span>lowHumidity<span class="token punctuation">,</span> model2<span class="token punctuation">.</span>isOpenTempAlarmSwitch <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span> <span class="token punctuation">:</span> <span class="token string">@&quot;NO&quot;</span><span class="token punctuation">,</span> model2<span class="token punctuation">.</span>isOpenHumiAlarmSwitch <span class="token operator">==</span> YES <span class="token operator">?</span> <span class="token string">@&quot;Yes&quot;</span> <span class="token punctuation">:</span> <span class="token string">@&quot;NO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Sampling interval：%ld&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>samplingInterval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get htSensorConfigation failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="set-the-configuration-parameters-of-the-industrial-temperature-and-humidity-sensor"><a href="#set-the-configuration-parameters-of-the-industrial-temperature-and-humidity-sensor" class="header-anchor">#</a> Set the configuration parameters of the industrial temperature and humidity sensor</h5> <p>Note that in degrees Celsius units, the temperature is up to 50°C and the minimum is -30°C.
The sampling interval is a multiple of 5, with a minimum of 5 seconds.</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    MTIHTSensorWarmingSettingModel <span class="token operator">*</span>model1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MTIHTSensorWarmingSettingModel alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    model1<span class="token punctuation">.</span>highTemperature <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    model1<span class="token punctuation">.</span>lowTemperature <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    model1<span class="token punctuation">.</span>isOpenTempAlarmSwitch <span class="token operator">=</span> YES<span class="token punctuation">;</span>
    
    MTIHTSensorWarmingSettingModel <span class="token operator">*</span>model2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MTIHTSensorWarmingSettingModel alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    model2<span class="token punctuation">.</span>highTemperature <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span>
    model2<span class="token punctuation">.</span>lowTemperature <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">;</span>
    model2<span class="token punctuation">.</span>deviceType <span class="token operator">=</span> SingleTemp<span class="token punctuation">;</span>
    model2<span class="token punctuation">.</span>isOpenTempAlarmSwitch <span class="token operator">=</span> YES<span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> samplingInterval <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Sampling interval：%d&quot;</span><span class="token punctuation">,</span> samplingInterval<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">/// Set the industrial temperature sensor configuration</span>
    <span class="token comment">/// @param htSettingDatas Trigger threshold list fixed length 2</span>
    <span class="token comment">/// @param samplingInterval The sampling interval is in milliseconds</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler setIndustryHTSensorConfiguration<span class="token punctuation">:</span><span class="token operator">@</span><span class="token punctuation">[</span>model1<span class="token punctuation">,</span> model2<span class="token punctuation">]</span> SamplingInterval<span class="token punctuation">:</span>samplingInterval CompletionHandle<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;setHTWarning success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;setHTWarning failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h5 id="get-the-temperature-unit"><a href="#get-the-temperature-unit" class="header-anchor">#</a> Get the temperature unit</h5> <p>Temperature units are divided into Celsius and Fahrenheit.</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>		<span class="token comment">/// Device getting temperature unit.</span>
		<span class="token comment">/// @param completionHandler the receive block. </span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler getTemperatureUnit<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">,</span> MTITemperatureUnitType unitType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getUnit success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getUnit failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="set-the-temperature-unit"><a href="#set-the-temperature-unit" class="header-anchor">#</a> Set the temperature unit</h5> <p>Temperature units are divided into Celsius and Fahrenheit.</p> <p>Unit conversion: When Celsius is 20, the conversion value to Fahrenheit is 20*1.8+32.</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">/// Device setting temperature unit.</span>
    <span class="token comment">/// @param temperatureUnitType  the device temperature unit type of temperature, MTICelsius 和 MTIFahrenheit</span>
    <span class="token comment">/// @param completionHandler the receive block.</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler setTemperatureUnit<span class="token punctuation">:</span>MTICelsius completionHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;setUnit success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;setUnit failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="read-historical-temperature-and-humidity-data"><a href="#read-historical-temperature-and-humidity-data" class="header-anchor">#</a> Read historical temperature and humidity data</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">// formatter</span>
    NSDateFormatter <span class="token operator">*</span>formatter <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSDateFormatter alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>formatter setDateStyle<span class="token punctuation">:</span>NSDateFormatterMediumStyle<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>formatter setTimeStyle<span class="token punctuation">:</span>NSDateFormatterShortStyle<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>formatter setDateFormat<span class="token punctuation">:</span><span class="token string">@&quot;YYYY/MM/dd HH:mm:ss&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token comment">//timeZone</span>
    NSTimeZone<span class="token operator">*</span> timeZone <span class="token operator">=</span> <span class="token punctuation">[</span>NSTimeZone timeZoneWithName<span class="token punctuation">:</span><span class="token string">@&quot;Asia/Beijing&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>formatter setTimeZone<span class="token punctuation">:</span>timeZone<span class="token punctuation">]</span><span class="token punctuation">;</span>
    

    <span class="token comment">// system time</span>
    NSDate <span class="token operator">*</span>currentDate <span class="token operator">=</span> <span class="token punctuation">[</span>NSDate new<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSTimeInterval currentTimeInterval <span class="token operator">=</span><span class="token punctuation">[</span>currentDate timeIntervalSince1970<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    NSTimeInterval startTimeInterval<span class="token punctuation">,</span> endTimeInterval<span class="token punctuation">;</span>
    
    <span class="token comment">// start time</span>
    NSString <span class="token operator">*</span>startTime <span class="token operator">=</span> <span class="token string">@&quot;2023/3/22 9:00:00&quot;</span><span class="token punctuation">;</span>
    NSDate <span class="token operator">*</span>startDate <span class="token operator">=</span> <span class="token punctuation">[</span>formatter dateFromString<span class="token punctuation">:</span>startTime<span class="token punctuation">]</span><span class="token punctuation">;</span>
    startTimeInterval <span class="token operator">=</span> <span class="token punctuation">[</span>startDate timeIntervalSince1970<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token comment">// endTime</span>
    NSString <span class="token operator">*</span>endTime <span class="token operator">=</span> <span class="token string">@&quot;2023/3/31 17:36:00&quot;</span><span class="token punctuation">;</span>
    NSDate <span class="token operator">*</span>endDate <span class="token operator">=</span> <span class="token punctuation">[</span>formatter dateFromString<span class="token punctuation">:</span>endTime<span class="token punctuation">]</span><span class="token punctuation">;</span>
    endTimeInterval <span class="token operator">=</span> <span class="token punctuation">[</span>endDate timeIntervalSince1970<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token comment">// get all history data</span>
<span class="token comment">//    startTimeInterval = 0;</span>
<span class="token comment">//    endTimeInterval = currentTimeInterval;</span>
        
    <span class="token keyword">if</span> <span class="token punctuation">(</span>startTimeInterval <span class="token operator">&gt;</span> endTimeInterval<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;The end time needs to be greater than the start time, please try again&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>connection <span class="token operator">==</span> Disconnected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;IndustrialHistoryVC device disconnected in HTViewController&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
    <span class="token comment">/// Read historical temperature and humidity data</span>
    <span class="token comment">/// @param formatter the time format you want</span>
    <span class="token comment">/// @param unit temperature unit</span>
    <span class="token comment">/// @param startTimeInterval the start timestamp</span>
    <span class="token comment">/// @param endTimeInterval the end timestamp</span>
    <span class="token comment">/// @param systemTimeInterval the real-time timestamp</span>
    <span class="token comment">/// @param htModel For the device type, only MST01 can be selected for the current version</span>
    <span class="token comment">/// @param completionHandler the receive block</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>sensorHandler readAssetTemHistoryWithDateFormatter<span class="token punctuation">:</span>formatter StartTimeInterval<span class="token punctuation">:</span>startTimeInterval EndTimeInterval<span class="token punctuation">:</span>endTimeInterval SystemTimeInterval<span class="token punctuation">:</span>currentTimeInterval completionHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL success<span class="token punctuation">,</span> NSInteger totalNum<span class="token punctuation">,</span> NSArray<span class="token operator">&lt;</span>MTIHistoryData <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull data<span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Success to read ht history.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                MTIHistoryData <span class="token operator">*</span>historyData <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;originData:%@, timeInterval:%f timeStr:%@, temp:%f, humi:%f&quot;</span><span class="token punctuation">,</span> historyData<span class="token punctuation">.</span>historyOriginData<span class="token punctuation">,</span> historyData<span class="token punctuation">.</span>timeInterval<span class="token punctuation">,</span> historyData<span class="token punctuation">.</span>timeStr<span class="token punctuation">,</span> historyData<span class="token punctuation">.</span>temp<span class="token punctuation">,</span> historyData<span class="token punctuation">.</span>humi<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token comment">// Historical data has been parsed within the SDK, but if you want to get the raw data and parse the data yourself, you can refer to the code.</span>
                
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Failed to read ht history.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h5 id="fireware-update"><a href="#fireware-update" class="header-anchor">#</a> ##### Fireware update</h5> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>    <span class="token comment">// ⚠️Note: The ota upgrade package that comes with the demo may not match the current device. Please use the matching firmware upgrade package to perform the ota upgrade after communicating with the business according to the hardware and firmware information of the device at hand. If you use the wrong firmware update package, this may make your device unusable.</span>
		<span class="token comment">// It is not feasible to distinguish whether the firmware upgrade package matches the device only by looking at the s3 s4 keywords, because the firmware version and hardware version of the device with different factory settings may not match, so be sure to confirm that the firmware upgrade package is correct.</span>
   
    NSData <span class="token operator">*</span>otaPacketData <span class="token operator">=</span> <span class="token punctuation">[</span>NSData dataWithContentsOfFile<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSBundle mainBundle<span class="token punctuation">]</span> pathForResource<span class="token punctuation">:</span><span class="token string">@&quot;S3V2_NV900_20210312_s3_ota_v1_0_23&quot;</span> ofType<span class="token punctuation">:</span><span class="token string">@&quot;.bin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    

    <span class="token comment">/// ota device by using this method, input  firmware data, then start ota, get statusChange in stateHandler, get firmware file upload progress in progressHandler, get error in errorHandler</span>
    <span class="token comment">/// @param originOtaData data of ota</span>
    <span class="token comment">/// @param stateHandler listen status change, only &quot;Completed&quot; means ota successfully.</span>
    <span class="token comment">/// @param progressHandler listen file uploading progress</span>
    <span class="token comment">/// @param errorHandler listen errors in ota stage</span>
    <span class="token punctuation">[</span>device<span class="token punctuation">.</span>connector startOTAWithOTAData<span class="token punctuation">:</span>otaPacketData stateHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>OTAState state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateStarting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateUploading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota uploading&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateAborted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota aborted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateDisconnecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota disconnect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateCompleted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota successfully&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">==</span> OTAStateFailed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> progressHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token keyword">float</span> progress<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota progress:%f&quot;</span><span class="token punctuation">,</span> progress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> errorHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span> _Nonnull error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;ota  failed,error:%@&quot;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="precautions"><a href="#precautions" class="header-anchor">#</a> Precautions</h2> <ol start="3"><li>Writing multiple instructions at the same time may cause an exception. It is recommended to write a new instruction after each instruction is completed.</li></ol> <h2 id="documentation-version-record"><a href="#documentation-version-record" class="header-anchor">#</a> Documentation version record</h2> <ul><li>2024.04.01 v1.0 first version;</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated::</span> <span class="time">12/15/2025, 3:25:46 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fef98304.js" defer></script><script src="/assets/js/2.31f2ce87.js" defer></script><script src="/assets/js/1.a9521bca.js" defer></script><script src="/assets/js/81.ffdbd435.js" defer></script>
  </body>
</html>
