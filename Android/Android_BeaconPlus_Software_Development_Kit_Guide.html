<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BeaconSET Plus Android Software Development Kit Guide | SDK &amp; API</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="SDKs and APIs for MBeacon, BeaconPlus, MSensor, etc.">
    
    <link rel="preload" href="/assets/css/0.styles.44c319ae.css" as="style"><link rel="preload" href="/assets/js/app.fef98304.js" as="script"><link rel="preload" href="/assets/js/2.31f2ce87.js" as="script"><link rel="preload" href="/assets/js/1.a9521bca.js" as="script"><link rel="preload" href="/assets/js/28.94e3a977.js" as="script"><link rel="prefetch" href="/assets/js/100.54ecfdbe.js"><link rel="prefetch" href="/assets/js/101.55a4a0dd.js"><link rel="prefetch" href="/assets/js/102.f2fc7b39.js"><link rel="prefetch" href="/assets/js/103.b1a15fde.js"><link rel="prefetch" href="/assets/js/104.f174bab9.js"><link rel="prefetch" href="/assets/js/105.75630d9d.js"><link rel="prefetch" href="/assets/js/106.a3d11e42.js"><link rel="prefetch" href="/assets/js/107.a7a5f183.js"><link rel="prefetch" href="/assets/js/108.67bcd1af.js"><link rel="prefetch" href="/assets/js/109.c2e24781.js"><link rel="prefetch" href="/assets/js/11.b61f3949.js"><link rel="prefetch" href="/assets/js/110.f652dcc7.js"><link rel="prefetch" href="/assets/js/111.b48743ee.js"><link rel="prefetch" href="/assets/js/112.30a8837d.js"><link rel="prefetch" href="/assets/js/113.e8cff9ce.js"><link rel="prefetch" href="/assets/js/114.bd0c683b.js"><link rel="prefetch" href="/assets/js/115.78b62576.js"><link rel="prefetch" href="/assets/js/116.20ab4f59.js"><link rel="prefetch" href="/assets/js/117.857e7d59.js"><link rel="prefetch" href="/assets/js/118.bdd02254.js"><link rel="prefetch" href="/assets/js/119.48f203c8.js"><link rel="prefetch" href="/assets/js/12.19e2c148.js"><link rel="prefetch" href="/assets/js/120.969852b6.js"><link rel="prefetch" href="/assets/js/121.e5b80d1e.js"><link rel="prefetch" href="/assets/js/122.92965ffb.js"><link rel="prefetch" href="/assets/js/123.2727505b.js"><link rel="prefetch" href="/assets/js/124.cda0e2d0.js"><link rel="prefetch" href="/assets/js/125.9f47dbc5.js"><link rel="prefetch" href="/assets/js/126.a45ada73.js"><link rel="prefetch" href="/assets/js/127.99f26761.js"><link rel="prefetch" href="/assets/js/128.6409a022.js"><link rel="prefetch" href="/assets/js/129.2e11333f.js"><link rel="prefetch" href="/assets/js/13.bf35e539.js"><link rel="prefetch" href="/assets/js/130.04c68f04.js"><link rel="prefetch" href="/assets/js/131.242cef01.js"><link rel="prefetch" href="/assets/js/132.4ba2b957.js"><link rel="prefetch" href="/assets/js/133.e3c29412.js"><link rel="prefetch" href="/assets/js/14.478ed167.js"><link rel="prefetch" href="/assets/js/15.83a1a568.js"><link rel="prefetch" href="/assets/js/16.f27bc1db.js"><link rel="prefetch" href="/assets/js/17.de28f169.js"><link rel="prefetch" href="/assets/js/18.6db3ccbb.js"><link rel="prefetch" href="/assets/js/19.0f7527b6.js"><link rel="prefetch" href="/assets/js/20.d1fa983b.js"><link rel="prefetch" href="/assets/js/21.fdf873b7.js"><link rel="prefetch" href="/assets/js/22.f86a6b2a.js"><link rel="prefetch" href="/assets/js/23.c962fb9d.js"><link rel="prefetch" href="/assets/js/24.dd5a5066.js"><link rel="prefetch" href="/assets/js/25.60fa12e9.js"><link rel="prefetch" href="/assets/js/26.076a9c0b.js"><link rel="prefetch" href="/assets/js/27.bbba3e2f.js"><link rel="prefetch" href="/assets/js/29.1f02f5e9.js"><link rel="prefetch" href="/assets/js/3.4daa0608.js"><link rel="prefetch" href="/assets/js/30.7666f34e.js"><link rel="prefetch" href="/assets/js/31.efc60d8c.js"><link rel="prefetch" href="/assets/js/32.8f2bb9b7.js"><link rel="prefetch" href="/assets/js/33.8dbe0a28.js"><link rel="prefetch" href="/assets/js/34.22a67dce.js"><link rel="prefetch" href="/assets/js/35.84bd4176.js"><link rel="prefetch" href="/assets/js/36.d8ecb1a6.js"><link rel="prefetch" href="/assets/js/37.2bb9c15b.js"><link rel="prefetch" href="/assets/js/38.e4485167.js"><link rel="prefetch" href="/assets/js/39.5765aa19.js"><link rel="prefetch" href="/assets/js/4.54dd87c7.js"><link rel="prefetch" href="/assets/js/40.39b7a973.js"><link rel="prefetch" href="/assets/js/41.6dbb2693.js"><link rel="prefetch" href="/assets/js/42.5122c78e.js"><link rel="prefetch" href="/assets/js/43.1cb8bebc.js"><link rel="prefetch" href="/assets/js/44.2173a006.js"><link rel="prefetch" href="/assets/js/45.a58e8a25.js"><link rel="prefetch" href="/assets/js/46.e01d23ab.js"><link rel="prefetch" href="/assets/js/47.61660617.js"><link rel="prefetch" href="/assets/js/48.f85a4831.js"><link rel="prefetch" href="/assets/js/49.e6e930f7.js"><link rel="prefetch" href="/assets/js/5.17cd0efc.js"><link rel="prefetch" href="/assets/js/50.e2d00833.js"><link rel="prefetch" href="/assets/js/51.8d7c283e.js"><link rel="prefetch" href="/assets/js/52.44f68518.js"><link rel="prefetch" href="/assets/js/53.2c1573a3.js"><link rel="prefetch" href="/assets/js/54.f1f5c4dd.js"><link rel="prefetch" href="/assets/js/55.798ced28.js"><link rel="prefetch" href="/assets/js/56.aa0fd809.js"><link rel="prefetch" href="/assets/js/57.89da00b3.js"><link rel="prefetch" href="/assets/js/58.136bcb3a.js"><link rel="prefetch" href="/assets/js/59.6aefb692.js"><link rel="prefetch" href="/assets/js/6.4693f4d7.js"><link rel="prefetch" href="/assets/js/60.e8adf440.js"><link rel="prefetch" href="/assets/js/61.8240b6a0.js"><link rel="prefetch" href="/assets/js/62.183a9f0f.js"><link rel="prefetch" href="/assets/js/63.c8ba761d.js"><link rel="prefetch" href="/assets/js/64.ca9adaaf.js"><link rel="prefetch" href="/assets/js/65.69817988.js"><link rel="prefetch" href="/assets/js/66.06def160.js"><link rel="prefetch" href="/assets/js/67.7eb8009c.js"><link rel="prefetch" href="/assets/js/68.8866be89.js"><link rel="prefetch" href="/assets/js/69.2b683fe3.js"><link rel="prefetch" href="/assets/js/7.28c424b4.js"><link rel="prefetch" href="/assets/js/70.a4692fcf.js"><link rel="prefetch" href="/assets/js/71.ffc2d4c3.js"><link rel="prefetch" href="/assets/js/72.44cdb27c.js"><link rel="prefetch" href="/assets/js/73.99a10aa4.js"><link rel="prefetch" href="/assets/js/74.78d59507.js"><link rel="prefetch" href="/assets/js/75.723e0570.js"><link rel="prefetch" href="/assets/js/76.2c88a84f.js"><link rel="prefetch" href="/assets/js/77.592a5098.js"><link rel="prefetch" href="/assets/js/78.2872e3c9.js"><link rel="prefetch" href="/assets/js/79.1ed4c3d8.js"><link rel="prefetch" href="/assets/js/8.957badf2.js"><link rel="prefetch" href="/assets/js/80.21f6345b.js"><link rel="prefetch" href="/assets/js/81.ffdbd435.js"><link rel="prefetch" href="/assets/js/82.f12e33cc.js"><link rel="prefetch" href="/assets/js/83.e169de25.js"><link rel="prefetch" href="/assets/js/84.01013dfe.js"><link rel="prefetch" href="/assets/js/85.0ec937e1.js"><link rel="prefetch" href="/assets/js/86.c927785a.js"><link rel="prefetch" href="/assets/js/87.2caa4987.js"><link rel="prefetch" href="/assets/js/88.782ec634.js"><link rel="prefetch" href="/assets/js/89.d7d76d3c.js"><link rel="prefetch" href="/assets/js/90.b3219e78.js"><link rel="prefetch" href="/assets/js/91.582bdb75.js"><link rel="prefetch" href="/assets/js/92.cb3c201d.js"><link rel="prefetch" href="/assets/js/93.369fca1e.js"><link rel="prefetch" href="/assets/js/94.d38be9c3.js"><link rel="prefetch" href="/assets/js/95.a142f7de.js"><link rel="prefetch" href="/assets/js/96.a4abd30b.js"><link rel="prefetch" href="/assets/js/97.0fff9d4b.js"><link rel="prefetch" href="/assets/js/98.cedca655.js"><link rel="prefetch" href="/assets/js/99.87ee2fde.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0053ac3f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.44c319ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://www.minew.com/" target="_blank" class="home-link"><img src="/header-logo.png" alt="SDK &amp; API" class="logo"> <span class="site-name can-hide"></span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorV3Kit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Repeater_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Radar_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mbt02_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_pt100_Software_Development_Kit_Guide.html" class="nav-link">
  PT100SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_RadarSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_S4_Software_Development_Kit_Guide.html" class="nav-link">
  S4V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst01_PT100_Software_Development_Kit_Guide.html" class="nav-link">
  MST01_PT100_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB02_Software_Development_Kit_Guide.html" class="nav-link">
  MTB02_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_version2_Software_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android/Android_MinewSensorKit_v3_Mwc01_Software_Development_Kit_Guide.html" class="nav-link">
  Badge Bluetooth® Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_Connectable_Asset_Tag_Software_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB06_Software_Development_Kit_Guide.html" class="nav-link">
  MTB06_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB11_Software_Development_Kit_Guide.html" class="nav-link">
  MTB11_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewMWC03Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWC03Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Msd01_Software_Development_Kit_Guide.html" class="nav-link">
  MSD01Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Minew_MWB02_Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWB02Kit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><span class="title">iOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS" class="mobile-dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTSensorV3Kit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Repeater_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_Radar_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mbt02_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MTIndustrialSensorKit_pt100_Software_Development_Kit_Guide.html" class="nav-link">
  PT100SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Software_Development_Kit_Guide.html" class="nav-link">
  Sensor-V3
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTIndustrialSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  MTIndustrialSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_RadarSensorKit_Software_Development_Kit_Guide.html" class="nav-link">
  RadarSensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst03_Software_Development_Kit_Guide.html" class="nav-link">
  Mst03SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_S4_Software_Development_Kit_Guide.html" class="nav-link">
  S4V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mst01_PT100_Software_Development_Kit_Guide.html" class="nav-link">
  MST01_PT100_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB02_Software_Development_Kit_Guide.html" class="nav-link">
  MTB02_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BeaconSET Plus
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">
  TrackerKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">
  ModuleKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">
  BeaconAdmin
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewToolsKit_Software_Development_Kit_Guide.html" class="nav-link">
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_GatewayConfig_Develop_Kit_EN.html" class="nav-link">
  GatewayConfig
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_version2_Software_Development_Kit_Guide.html" class="nav-link">
  Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android/Android_MinewSensorKit_v3_Mwc01_Software_Development_Kit_Guide.html" class="nav-link">
  Badge Bluetooth® Repeater
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Mbt02_Connectable_Asset_Tag_Software_Development_Kit_Guide.html" class="nav-link">
  Connectable Asset Tag
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB06_Software_Development_Kit_Guide.html" class="nav-link">
  MTB06_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_MTB11_Software_Development_Kit_Guide.html" class="nav-link">
  MTB11_V3SensorKit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewMWC03Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWC03Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewSensorKit_v3_Msd01_Software_Development_Kit_Guide.html" class="nav-link">
  MSD01Kit
</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Minew_MWB02_Kit_Software_Development_Kit_Guide.html" class="nav-link">
  MWB02Kit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>BeaconSET Plus Android Software Development Kit Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#design-instructions" class="sidebar-link">Design instructions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#overall-structure" class="sidebar-link">Overall structure</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#advertisement-stage" class="sidebar-link">Advertisement Stage</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#connection-stage" class="sidebar-link">Connection Stage</a></li></ul></li><li><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#get-started" class="sidebar-link">Get Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#prepare" class="sidebar-link">Prepare</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#start-developing" class="sidebar-link">Start Developing</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#ota-operations" class="sidebar-link">OTA Operations</a></li></ul></li><li><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#notes" class="sidebar-link">Notes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html#change-log" class="sidebar-link">Change log</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="beaconset-plus-android-software-development-kit-guide"><a href="#beaconset-plus-android-software-development-kit-guide" class="header-anchor">#</a> BeaconSET Plus Android Software Development Kit Guide</h1> <ul><li><strong>Updating...</strong></li></ul> <p>This set of SDK only supports devices based on miniBeaconPlus firmware and no longer supports products produced by other companies. Compared with the previous single-channel device SDK, the current set of BeaconSET Plus SDK supports more features. Of course, we also encountered many problems during the development process. We will explain the design reasons and precautions in this document. So, please read this document carefully to get started with project development as soon as possible.</p> <p>Please read the part of this document which you need,  part 1 we will explain the architecture of this SDK, part 2 will help developers to get started, part 3 will explain notes in your developing progress, part 4 you can get error codes and descriptions.</p> <h2 id="design-instructions"><a href="#design-instructions" class="header-anchor">#</a> Design instructions</h2> <p>We divide the communications between SDK and devices into two stages: Scanning stage, Connection stage. For ease of understanding, let's take a look at the related classes and the relationships between them.</p> <p><strong>MTCentralManager:</strong> global manager, check system's bluetooth status, listen status changes, the most important is scan and connect to devices;</p> <p><strong>MTPeripheral:</strong> instance of devices, MTCentralManager will create an MTPeripheral instance while it found a physical device, a device corresponds to an instance. every MTPeripheral instance has a MTFrameHandler property and a MTConnectionHandler property(These two properties are explained below);</p> <p><strong>MTFrameHandler:</strong> Advertisement frame analysis, it can analyze all frames from advertisement data of a device. in other words, it's the core of the scanning stage;</p> <p><strong>MTConnectionHandler:</strong> connection Operator. this class control all the operation of device in connection stage.</p> <p><strong>MTSensorHandler:</strong> sensor Operator, this class control all the sensor operation of device in connection stage.</p> <p>**MinewFrame:**data frame, every minewframe(or subclass) instance corresponds to a data frame, usually created by &quot;MTFrameHandler&quot;, if a device advertises mutiple data frames(such as iBeacon, UID, URL) &quot;MTFrameHandler&quot; will create multiple corresponding MinewFrame instances.</p> <p><strong>MTOTAManager:</strong> OTA, use this class for update device's firmware only.</p> <h3 id="overall-structure"><a href="#overall-structure" class="header-anchor">#</a> Overall structure</h3> <p><img src="/assets/img/BeaconSET+.3b64ceba.png" alt="BeaconSET+"></p> <h3 id="advertisement-stage"><a href="#advertisement-stage" class="header-anchor">#</a> Advertisement Stage</h3> <p>in this stage, <strong>MTCentralManager</strong> will scan and analyze the advertisement data of miniBeaconPlus devices, <strong>MTCentralManager</strong> will create <strong>&quot;MTPeripheral&quot;</strong> instance for every physical devices, developers can get all advertisement data by its <strong>MTFrameHandler</strong> property.</p> <h3 id="connection-stage"><a href="#connection-stage" class="header-anchor">#</a> Connection Stage</h3> <p>After a <strong>MTPeripheral</strong> connected, developer can make some changes of the device by <strong>MTConnectionHandler</strong>(a Property of <strong>MTPeripheral</strong> instance).</p> <h2 id="get-started"><a href="#get-started" class="header-anchor">#</a> Get Started</h2> <h3 id="prepare"><a href="#prepare" class="header-anchor">#</a> Prepare</h3> <h4 id="development-environment"><a href="#development-environment" class="header-anchor">#</a> Development environment:</h4> <ul><li>Android Studio</li> <li>minSdkVersion 24</li></ul> <h4 id="import-to-project"><a href="#import-to-project" class="header-anchor">#</a> Import to Project</h4> <ol><li><p>Copy the development kit MTBeaconPlus.aar file into the libs directory and add dependencies in build.gradle. As shown below:</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAABNCAYAAABXCorTAAAL5UlEQVR4nO3db2wT9x3H8feZsobQasz4z9qyUdxik9RpVqlau8QsoWPdHiyBhCWFB90TGv6o0p5DgCgdbZ9PWgulfThVhD8h4ekKSSFRkbauISbElhqYtjX4T0MCnRUR6tsD+xzbsWNf4sTx8X1JCLg73/1ysj/5/e7Ov6/iqdumIoQQOpiK3QAhROmR4BBC6PZYsRtQajZsdLBmbXnKsocPHhC4M07ku/tFapUQy0uCQ6cNGzex3mabs7wiGmXUO8SYf7QIrRJieclQpUAUk4mKF1/i+S2Vi9pPVcshju2vw66qRFUbr+2f/X/6eiGKRXocBeZyV+NyV8+7zbfBIF98/tkytUiIwpPgWMFMSpBLJ9/nEoCiFLs5QiQYbqhis9v4w5tvsu6H67Ju43A42LN7D2VlZcvYMiGMw3A9jrXlT2A2m2ltbaGr6wyTU5Mp6x0OB40NDUQiER4ve5zp6ekitTS3qGpj+4G9eBjk5Ik+Asm9Dns9B9tqsMWXqb4e3jlzI+m1L7DnSCNb4uuDVz/mw77gsrZfGJfhguPWrTF6L16ksaFhTngkh0ZX1xmmpqaK3NqFUay17G/z0X38PYYVhaitjrfbGjnWAu+cuZEIDZe/l854mNjr66hSAwzLkEcUgOGGKgBjY7HwKC8vp7W1hXU/XDcnNNJ7IqVEVUNcPXU2EQKmYD/nB8Lg3EKVqoLdghnw3fQmXhPo65fQEAVjyOCA1PDYvbvVMKEBQNjPjUDqovHwBGDGagcCYSYA147fx4JEiAIzbHDAbHiUla0xTmjMQ1GsWG1gUm7w6alBQjhpPtrOsfY2XrNJgIjCMdw1jnRjY2Nc6Oll8u5dQ4cGxIYwofj1T1Ownw/f7Y9f/6jB07YPTn3EpaAMV8TiGbrHobl9+5axQsPi5AV76qLqCmfGIYwp2M9fTg0SwoKrMu1FQizQIxEcRqMoVjxN9YnHzqPuXTS7FHwDsVu2UVsdb9QnfZ/GZsFKGN9IIMsehdDH8EOVQhu5/iWrV69e1D5mZmYW9Xo1NMDJAQsHjrYnlo1eeJfT3tm7LCN1h+g4En/GQw1xVYYpooAUmQFMCKGXDFWEELpJcAghdJPgEELoJsEhhNBNgkMIoZsEhxBCNwkOIYRuEhxCCN3kydESYbX/mFDgDq/+8lcZ149c/5J7k3eXuVXiUSXBUQI2V7pZb7ETCtzJWNMFWPRj8ELoIUOVFW5zpRtnZVWxmyFECgmOFUxCo3QZvXCWDFVWqKUIjah7F507Xaiqj+7jZ7POQarNrr7VqiS+dVvVcohmV/Zv16qhAU6e6INt+zjgsc5Zn/zt3VKmncN0j9os8hIcK9CqVSYmQkG+6J+t9rbYr+JrVDVEKOzEs83OcLY3etVWPIQJqpbEouEz7zMc/7f24ZkTBoqCnblf47fXt3FgZztvYIzwSP/5YrOs7eWYtTelRIWRyVBlBfpB2RrMVlvKH/vTz7C50l2Q/U9MhLG6KjJ2o6Oqje21Tnw+f0GOBTB+eZBRVcVsMeYMZLOzzNc8MnO7So9jBSovX7uk1zZC/YPQ1kh9VR+nvWkr7RW4LH6udoOntkAHjJdrmAgHgNkehzYfaraiUhDvrSQNfTJtkzy0gtlhk1bAKr04FcwdOlW1HKLJ6af7+CiVSdtmOl4m2izzmWQrrJVYPjHbU9FbSCuf85Nrm6qWQzSZB2OTQ+10zTl/mUhwPJK8jPgbaapwgzf1TVZdVwMDnzBEBZ4CHCmq2tjeVIM1PMj5YRK5oYUGA5/Q2RdMfGC0olIQnxKRHjqPB5Ne08jB+lDiw6Ttx+rvpfPkjcSy7VUQ8M4Oq4JXP6ZTe417F5072zloSf1QKoqLpiPQffw9TitKfLsdKcfL5imLGZgglJqNOs+VvkJaeZ2fPLaJcdJc6+fEn87GAiNHDR4ZqjyihvoHCaV1raO2OjzOxc9NqihWtu5rp+PIYTqPvoXHEuZqd9pvWi1MLseOZVJu8GmPP6W7b/KeS31zB27iC5MYZiXv52TXbNfJFOznkldJDLtUX0/Kfkzec5z3qVhrt6bUnUkvdMXwFa6E1KzDusR5c+/igMdKaODK4ope6Syklev85LsNABbwdc/fy0gmPY4SpEZV/vvvf/HMTzaimBb4Rg3cxBeuwVVp51Iw9sZ6qtKJ1T/Ih0EFMj9nll/70i8eunfRua8dl9bttlfgskBo4GbqGzUYJoQTqw1I+wWf3IVXQ9pSK9ZM+9Fox/GF5qwauumnyRkvYJU4VmqPwaQECWUYgWjBuDXp573y0buLn9M1uZDWcPa7XplkPj96ttHXW5LgKDHhYJCRr/7O/XtTfP9who3PbV7QfkxKkL8N+PHs2ErV5bMM4aa+1oKvx8uC+9rZjuU9x/mKQzTVaseKsXneoiPDeGgi/nfyrc/YLeT3GGk9TJP2Qc5y7WTO/rKs1wpYpYdULpknf178OYsV0rLwdlsNzUfbacoxyXTO85PnNgCEw7pOgwRHCZkIhbj2+WeYf13B+g1b8P31K9Y+8SQA96cmUX73LOp4BP6R51tgeBTfjkY82+wMhbfgCg9yMuk6RCEFQ2HQfsPHZX+2Q4n9dtzhTL04qChkumQcu1uT/WfOtj65gNVKkW8hrXzOj55zqLudBdiHWCZmi4UfWWw8nHnA3V+sZca8imtXLnPtymUemB+DBgd8n//tQJNyg76BMFbXVvbUOgn5snT5C8BmtZDoDsfH2a6KeW4vp/QmYqLqC1Q6k7bJNl5PX2+d+0BadYVztj1LLDHksVhSR4DxoVTG1+QqpJXP+clnmwWS4CglisJTTz/Nvb6vUcf/B4dfRvmgHuWDejj8Mur4d/BVlgFuFuMjfkIWZ+wW7OWl+RRpBaO0i4faMElx7eBgUuGoqK2Og9pj2tp4PylcqltTb6km9mOtZX+rO2U/r7nV7MfRClj16LuOsBhDN/0oigvPtlgIaBd2bUnHn6+QVlS18dr+pMfY8zg/eW2zQDJUKSH3pyYZ9V5HaX4ONjyRMqJQHl8Fa1dD83Oo57/Oe5+mYD9X/TU0MVqwD1H6xUOYOywxec/RwS46d85e50h+fsCENt5vpOPIDiD2TMN59qaMz03ec3QE61K2i+0HUJLX76XDM1ugqiAXM3Uwec9xwtLGgaTrOqMXPuZK7d7EbW89hbRmr4dkPz/5bLNQUpBpBVpvtfFq3dx5N/55bYBvzBGUP1bP+3r1z0MwFF6q5gkhPY6VaGZmhm+DqVftVDVK4Jv/wO6f5d7B6z+V4BBLSoJjBbo3eZcvPv8s4zrl2Sdzvl559kmkGymWkgRHiVHf7i92E4SQuypCCP0kOIQQuklwCCF0k+AQQugmwSGE0E2CQwihm9yO1WnDRgdr1panLHv44AGBO+NEvrtfpFYJsbwkOHTasHFTxmpqFdEoo94hxvyjRWiVEMvLsEMVm92GY9OmZTueYjJR8eJLPL+lctmOKUSxGLLHoSjw29d/g9lspvfiRcbGxpbt2C53NS73/F9C+zYYzPpIuRClwJA9DlWF3t6LRCIRGhsacDgcxW6SEIZiyOAAmJyapKvrjISHEEvAkEMVjRYera0tNDY0LPuwZSHmK8gzX+GcXEWJhCgkQwcHzIbH7t2tNDY0cKGnl9u3bxW7WRnlV5BnbuGcXEWJhCg0wwcHgHm9mbKyNUQiESbv3i12c7JLKcgTC4pAX39qr8ECvlOZixud7PImKnCZgv3LOjWeeLQY9hqHxuFw0NjQQCQSoavrDJNTk8VuUnbJBXmyVg5Ln5k7XpRoCWcoFyKdoYOjpEIDbXLZQUI4aT7azrH2trnVz9ML52SYAl+IpWbY4Ci10NDECvK8T8dHA4Sw4GnbNzc8MogVHRJieRgyOBQFXvn5KyUXGslyFuTR5CpKJMQSMGRwqCp0X+jmdFdXSYXGfAV5sslVlEiIpWDYuyrT09NMT08XfL8j179k9erVi9rHzMxMxuV6CvKkvC5HUSIhCk0KMgkhdDPkUEUIsbQkOIQQuklwCCF0k+AQQugmwSGE0E2CQwihmwSHEEI3CQ4hhG7/ByMn/fg9r756AAAAAElFTkSuQmCC" alt="make jar"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA9CAYAAAA6XrkAAAATYElEQVR4nO2daWxb15WAvyuJEvlUkZRISdbqOI3GriV5SYsmtgczgzhtYgeDQZxp3MYB2iyIB838SdBO/tQtZlJg0DZN/3SKaZA2GSBJm6BJfhRxVk/RQRM7beJNkhuPPEmj1ZJImpQtkiJl3/nxuDxukihLlG2eD9APXt7lvPOe7nnnnnMvVXd3t0YQBEEQyoyK1RZAEARBEFYDMYCCIAhCWSIGUBAEQShLxAAKgiAIZYkYQEEQBKEsEQMoCIIglCViAAVBEISyRAygIAiCUJaIARQEQRDKEjGAgiAIQlkiBlAQBEEoS8QACoIgCGWJGEBBEAShLBEDKAiCIJQlYgAFQRCEskQMoCAIglCWiAEUBEEQyhIxgIIgCEJZUrXaAgjlyfou12qLIAjCFczpwdCKjyEeoCAIglCWiAEUBEEQyhIxgIIgCEJZsiIxQK07ufWx77C98QSvfuun9Cu1EsNccWOvJFp30tsG/WNDy9bHlaArrW9kx96v0VFvjn3p49f4c/1uNrr7OfzzZxmijd69j6Q+D5dARt3poWIb6F/70NRSf5OXmkgI38kgc1RTu6mFOkeY4PtTRLM+zypFzQ2duBvinD85Rjh6efJqfYm/u36W7bFq/n20csHy1PcNXta02ZiNhImMBJmdRw5tN6htN3A4DC6OfkowYF5DvWdxsmv/FBNnwlS2tdDYXp2/TjjGbCDE+ZEZLl4j/5OFmE8PAPHwDBcGp1L3RGtbzjN0raK1kfH/dFEpdE8zFR0RLh0MoUp87eIBXgXo1pvZ+9h3uPPLravax0rQeVva+AFMnwusojSgtYOKbQ4YmIYrYCJSqoI/n6+A6ks0ab1geUZboxq7x427y01lgToA9nYvTk8tNmPlrlcZ1djbG/F21a7YGFcLNqMW96ZWDHvhe1JW9AXQOKnoLfzSsFKsiAeo1BCHfvgQh8wPKzFEmdGKtxGYXN4+Vvs+ad2Kyw1a93HqN8/SH0jI8MEJ+pMylXiOUH/tgelpLvXFFvU2qlSccN8QYfPDisg0EarA77nE56phMr5weQ4OgxpHkHA09yutDRwNEA/HsBnpCWj2zBBnz2TWy35zL0R08C8EA5nfa7tB/SYvdk8j7kDu99ciefWgbdi7vNR7qqlrryV8JrxK0l05KBVHD0RQ2xpg+CyESvdsiAcorD7BSYb9qy0EaJcT1Q4MWJdi4sQiQCS+ekt3sUpOxy6x3qUXV24h7p9hDhsOT/6366p2FzWEiayw462iYc4lJvtKR+nf9K8UlIoTHfQxHdbQYFAzj2d+bVLg/+nTafS0DdVjlFSaksQA+1hr+fxbuO9B9vS0AODr/wU/e/aI2ea+B9lhKX/5mcNMJJTU842nuLM7T/vJ4/zPcz+lf2z+yUnrTnot7bQe5/TvDvL719JjZMq9NDmLHos3eOo5+Nt7b2dDk0rUfZqXDibidFsf5nv7tpgd9zzAd594gI+ef5CXjiX6ab2ZvffuZkNTS3r8yeO89/ZvOXRs/j5ePLo2bwwwKf/fdK/Bq0yZ/AMHM65zsfIXvB/Xf52vfqk38Wknt//TTvS5Q7zx6+N0fvVRSwyw0P1spfO2fWxf15z4PMHIsUMM/PFDQhn3wqzXfV0TrkR56JNDDHxwkOGst3PV4wQi6E+BxFdKxbkYgblIfhdr/vhNNTU3mG/7kBv7Sba3d3n5TIMNW6Jt3B/kgiVup1QFUzHYXneRpinFpJq/PINImEjEoK7BoHIk03PT2kZNgw0CIWZZvX2ZVq/I/BxjdjR/vFDbDeq7XNgt3qoOz3B+NEQ4EJ+3btwfJDiY671m3wOtY8wFQgQH0+On7jMhfINQ1+XCbqiErD6Co/O54JkknykchfWR75nKGz9bxPOzEJej00J1K9ta8LbFCb4fxrHJm9DVDOdPTuX9f1Iqjh6Oo7qd4AqXzAssuQe48b7vpAwDgLfnAe7eak6mO7LK77pj7cLtm7Zw5yOPs7O18JuU1jez94nMdkq1sOGWB3josbtozvMWtlQ5ix1LNe1i/6O72NCkLHUP8M3dnQWvJzXW1of53qMPZBg/s88t7Nh3gLu3Fv92qbUZK9zT04JXpWXy9jzAQ4/9Mz3LKP9S0fpGdux/JGX8zHGb6bjxHm7buxuXRcbO28x6Lsuk51q3k23/+A06LPW0dpje30g4Zylz9swQ/iImuCSOrpbUpA75Yz/2RB2bZUybx417U2OGdzAQqoRqc7nTSqHyNHFmA/HEMmi2gAYOB8wGZoq+tmLRdoP6NgOtY0T8sXS5Nqi/KVNPSiXihZsyY5e6wUvL5saMyRdAGbU4u1pxN1jq2l14N3kz6to87tw+tUH9psx7oFQ1Nk8j3qx7YI7lpnGzG7uRrmtvb8XTZlu8LrSNygLGr1gW+/wUlKUYnRZRN4mjy5vSFZE4s5F5/p+GI4AN1VG6FYKSngSj1BbWdx/nlSdNj61568Ps37eFDfsOoCdf55UnXzbLdz/M/lu24On5As2vfZryOsz243z0/NO8dGwo4amYk/X2L2/j0LNH8o7be9/9bFAqw1tLe2m7uOuOD/iZxWO5HDmLHQtAT77Oq8+9TN/oWnrveJA9t7Sk+zz2H/zrxB4efuR2PAO/5PFnjwBmn7d+aTNaj/PeC0+nvb2UThTrN2+DY0dQBfooqKsmlZKpf0yhW2/m1nvvZ0fTFu68bxv9WXqeV/4Cy4bq4//i1//ZamZ48t+8+eJBQkqh1cJJOp23fY0OpQh98gKH3zQ9vrRHuJNtXzzBG38aQ+sb6bgO9Lk+Dr/zLMOBZL1H2L6ul47PwvDHiU7XGiil0KG5BcdfDEpVU+WIMT3oIxyIJ97UWzJiP8n4mw7PEEx4hul6tTg8U8wmlybPV/K/xPDWANa5o1C5hTl/mLk2Fw5PNWHLxFPlMagizAU/0L4slw2Aves61uQp1zrG7JnMzFh7lxe7UsT9UymPK+0RunG3h/GPmvqrTRjQ82d8KW8jrS9FTUMtBMxlVnu7C5ul3zlHLbVdXpyGmzpPkGDAMr6h0GHTO5yNKjMrtsuL06jF3RVmIitOl6wbjVRjb/dS315NVR4POx/abqO2vQWnodD+sOndLXEVtKjnJ2/7xeu0WP0DKFVLTUOM6ROWez6ffoIR9LQT1eFA98UK11tGSu4Bnn4hvVx59uhveXdSm5N4YrIFOPvah3ykNTS20JjT/gAvJSZ7pYboe+b7vDupofvzOd4JmB7Nxm7QiSXMtDEdou+Zp3l3UpuTdVbbpci5lLGsfSo1RN9rB80+FyCZwPL4t7+bMn6psU6cWLB9PlLy6+O8+oP0daqxI7zzg1+acmXpeanyL5WUUfvkBd5462hquVOpMYbefJ6Bcxrnus2mF+hpxgngTrdXaozht77Niz//Fu99bPlndCbeBaeX7x9v9sxYaqIwYz/jmbEfh41KyFgKUypuJqC8/2lGAoVSlfz5AvyV61LGGIXKM4iEiUQwJ+nEvUkvf4ZLlnavVDWVDeks0NQE7p/CfyacMh7WOFlS5mSy0cQfxzOW2pSKEw1kGaiUYQimjKqKhpkZzYxBpurpGYInLUvO0TAzJ31EdW6cTusY5xOGUqk40ZGQWS8P9q7rWHPT2oy/ls2tOD3m0un5kcv0vIt4fvJRjE6LqWtlbtS36K1ASsVhGnDaCryeLz8l9QC1Hsc/ke+bCSZGsTglY/inINv6aX2cU0fJcF6UGmJiEmhsprkN+kazum5rxQuoROwrv1ymATt7uXIuYazcPotHt3ayprmVxpZWNjZtwdud7/17ESTkZ+DDnD2BSh3h1MD9rO/O1vPly18UCaOm1t3D3v335K2idRNOIOg/wUjwFrrre9n+lR8DyfjfCYYDYxltlMuG1jH0Mh0/qPUMET9Zz2oy9pNYAouEiURcOI1a6jebhsGM34SZjea6cwOhSv6h7SIbdQWnLPenULl13NlAnLo2Szaox4XTUERHZ1jum5c/C9RmekueRjyRMXMJLDGBK08jazz5+9LaRhVwMauvKsNGlcOGw2FQ2ZC1/Jg0DFmJFirg4+z7vtx6eV4ClDITg2oakvcq+U3iHi5RZWZ8MVxUjK4gRT4/88q1kE6XWPdiJEbxyqrKeGldSUp8GPbKTJZTk2dRPS14moFsA9icjmUtniXKuaSxlo6ZAHN/Kv5WFribMuJ586HUGH0v/gRu20d3Il7oWreT7et2os/1ceody9aLEjEXiaNUNdUGhKNxZk6OQ5cXZyIGZvO4qfe4zcSCwanMt+dZhZ85Pldn49QFFi7PGbc2tQxqbzDyGumVQkUTXp2jhbo2FzUjU0QNW0bsaiHMBAxLTOkKJ9+LQJrLvwalinx+8lCMTq82/S+Ga+LXIBqb1hT22ibG8enNlthXAZZjz1kJx9K6k1vvTcbrjnN6cpxTJ8ZgYoy+5r9PZ31eawQnCWmN8y+/4qW3jhauZ1ka7X/rR/TpVjq/uJmOdT101Dej6nvZeOtuhhOxx1JR5TA9zVg4KWac8JlxZgZt2NsNHA0GdqMaZdRS1xVn1rrnLlbJ6dgc212X4ILl9JdC5Vb8YaI3GNQ0GFSOxHE0UNLlT8iT/RiOE9eaqoAvJ86W1dCMQaXidTPMRuJEAnEIx4kaLlrKdIN9Uc9PFsXo9FrV/1VlAJXawsYbof9YuiwZt0p5bdmMjuEDPN2fp0cfXtnjvko5VtsXWN9oxhuzje2aLc0FGi3APPIvqOdS4Z8wwwTX9dKhP1z00WhKjTH8pzGG//R66vi1dre5VBoCdChORUc1uFiWZVDT28pMQkjGnPItoykVZ3Y0xOxoKJGZ6KXGkbn8lzz9ZXvdJZp0RcZ2iHzlmfIkl/QMatrj2JUiGlj+5c/5yMl+jMS5iBmbrNEz8xvjRMZq8tg1K1WerCW4ZL8OG5VaW7YyZG4jmJtn/Jx7dSWQXLLNw2Ken9z+itBpMXUvmzkILnOXBbjqNsKvv+dxdm41U+x1683c+piZdZkvbgXJ2JVpPO987C56LNslmrc+zDd/9BQH/mVP3q0QxbLiYzW15rbt/nxqHK076fnGv7H/lpY8jefpYwH5F6PnUqHUUYb/Akr1sm3vbjosqdeu67/O7Q/9iLvv3oVLa/T1X2fv/ie4++5dGfXcn23G6QaCk0wnC6cT2Z/O5UvBrrmhFSMRH9F2g9pNZsZj0vPSDV7W3LSW5l4XNZatEVWeZNwpTnZO6kSoAn+ebQ+Fyq1EA2GUqsbZXpte/iwRyWxBp5G+/qRRVqoW9yZ3hg4qG7x4vthJc68r8xi3BiNVT2sbNTfknruZ6tdw4+6qpVLrVGapXSnmAmbCTaHx892rUpL0lJWq5TOJazMzU10ZS8ZLeX7ysgidLqlukaS2Ik3HS3YA1FXlAWo9jn9qDTv2HWDHPmv5cV595nDBFNu+Z37JxifuZ0PTLvY8uos9WX2+99zLZsbmMmh9RcZKeGbepl3s//EuPnr+cV48+gGnp25nR9MW9jz6dMY4KRLGbkKpAn0UK//8ei4VQ2/+io79X6Ojfifbv7Iz4zutJzj1TmJZ8//eZuALPXTnqQcw/IFl+fPTMHqbA1xVFNxPUARazzAbMHB2tZqZqJby4OCMqUN/iOk2A6fhpn5zbtQ/Oppn+Sqx3Lnepfm9Ty1cbiWxDLrSE3uhbRCAJfvRHDs66CPa4MWeRwfJjMuLSuVN+MjB4vFFR0LEG1zYPI00ehotfc5wYSSWeobnH99yr0pMNBAGTy229lbWJLaoaH+QaVzUJSsV8fzkPcquCJ3OFan/JeFOeJLDkZIdin3VeYCnn/s+7/aPpz77+n/BUwv8koFSR3jxW2Y7n+Vt0tf/Oq/+5ACHFjhFphhWYiyljvD7351I9edtMbNf3/lBpi60HsfX/zqvPPmLnG0k+fqYT/5XLPKb/S6s51Kh1FHe/flPGPhkgpBFx6FPDnH4Nz9MJbYkk2Dey6qnz/Ux8PaTGdsglIqgR4B2A5ZpG0dkcJxzlk3fcX8Qn+Vkj2QSwzl/jLhVvvAM04NjeRMokqe/eOou5hyOna88s236yLNSbH63onXMPIkl6xcylApz7v1xprN0kF03qavpjE30Zp/nTkyZWxESS34AKhrCd9JHNFxY/9bxrffA7Hcqp24pUQEfUyMzKZni/iC+wdytCcU+P/naL0anxep/SXQ4gDh6uDR7AAFUd3f3VXEYnXkU2lneW2aDJawO67tW7+itQmiXk4rbnTAwge6/fC9QEITFobUNtbsZNe1Hv2sGXU8PLtOepHm46jxAQVgpVGja9AI7HOiyO6RYEFaRtU6UM47uL+2vY4gBFAQL+g9+cK7Ob5MJQjmitQ3V7YCR6ZL+FBKIARSEDJSKcOlwBLqdyxYLFARhHnobUExz6Q+l/23EqyYGKFxbXIkxQEEQrhxKEQO8qrZBCNcOpXi4BUEQ5kOWQAVBEISyRAygIAiCUJaIARQEQRDKEjGAgiAIQlkiBlAQBEEoS8QACoIgCGWJGEBBEAShLBEDKAiCIJQlYgAFQRCEskQMoCAIglCWiAEUBEEQyhIxgIIgCEJZIgZQEARBKEvEAAqCIAhliRhAQRAEoSwRAygIgiCUJWIABUEQhLLk/wEt0yuhlUHZTwAAAABJRU5ErkJggg==" alt="add jar"></p> <p>Please add under build.gradle</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Add dependency library</span>
 dependencies <span class="token punctuation">{</span>
    implementation <span class="token function">files</span><span class="token punctuation">(</span>'libs\\<span class="token class-name">MTBeaconPlus</span><span class="token punctuation">.</span>aar'<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Add the Bluetooth permissions and the corresponding component registration under the AndroidManifest.xml file. As follows:</p></li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_COARSE_LOCATION<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_FINE_LOCATION<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.BLUETOOTH<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>maxSdkVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.BLUETOOTH_ADMIN<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>maxSdkVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.BLUETOOTH_SCAN<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">tools:</span>targetApi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.BLUETOOTH_CONNECT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.minew.beaconplus.sdk.ConnectService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.minew.beaconplus.sdk.receivers.BluetoothChangedReceiver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.bluetooth.adapter.action.STATE_CHANGED<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>proguard-rules.pro ：</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code>   
<span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">class</span> com<span class="token punctuation">.</span>minew<span class="token punctuation">.</span>beaconplus<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>*<span class="token operator">*</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">class</span> no<span class="token punctuation">.</span>nordicsemi<span class="token punctuation">.</span>android<span class="token punctuation">.</span>*<span class="token operator">*</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="start-developing"><a href="#start-developing" class="header-anchor">#</a> Start Developing</h3> <h4 id="get-sharedinstance-of-manager"><a href="#get-sharedinstance-of-manager" class="header-anchor">#</a> Get sharedInstance of Manager</h4> <p>First of all, the developer should get the sharedInstance of Manager:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// get sharedInstance</span>
<span class="token class-name">MTCentralManager</span> mtCentralManager <span class="token operator">=</span> <span class="token class-name">MTCentralManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// listen the change of iPhone bluetooth</span>
<span class="token comment">// *** also get from &quot;bluetoothstate&quot; property.</span>
<span class="token comment">// *** this SDK will work normally only while state == PowerStatePoweredOn!</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">setBluetoothChangedListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnBluetoothStateChangedListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStateChanged</span><span class="token punctuation">(</span><span class="token class-name">BluetoothState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="scan-devices"><a href="#scan-devices" class="header-anchor">#</a> Scan devices</h4> <p>start scanning task to find devices around you, then you can get their advertisement content, connect to device and change parameters.</p> <p>Attempting to start scanning while already in scanning mode, Return &quot;Operation Failed: Currently in scanning mode, no need to restart scanning.&quot;</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
  mtCentralManager: sharedInstance of MTCentralManager
*/</span>

<span class="token comment">// start scanning task</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">startScan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Traverse the List，get instance of every device.</span>
<span class="token comment">// ** you can also display them on views.</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">setMTCentralManagerListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTCentralManagerListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onScanedPeripheral</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MTPeripheral</span><span class="token punctuation">&gt;</span></span> peripherals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MTPeripheral</span> mtPeripheral <span class="token operator">:</span> peripherals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// get FrameHandler of a device.</span>
            <span class="token class-name">MTFrameHandler</span> mtFrameHandler <span class="token operator">=</span> mtPeripheral<span class="token punctuation">.</span>mMTFrameHandler<span class="token punctuation">;</span>
            <span class="token class-name">String</span> mac <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getMac</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">//mac address of device</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// name of device</span>
            <span class="token keyword">int</span> battery <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//battery</span>
            <span class="token keyword">int</span> rssi <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getRssi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//rssi</span>
            <span class="token keyword">long</span> lastUpdate <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getLastUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//last updated time</span>
            
            <span class="token comment">// all data frames of device（such as:iBeacon，UID，URL...）</span>
            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MinewFrame</span><span class="token punctuation">&gt;</span></span> advFrames <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getAdvFrames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MinewFrame</span> minewFrame <span class="token operator">:</span> advFrames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	<span class="token comment">//Last updated time of each frame</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lastUpdate:&quot;</span> <span class="token operator">+</span> minewFrame<span class="token punctuation">.</span><span class="token function">getLastUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>at the sometime, you can stop the scanning task in this way.</p> <p>Attempting to stop scanning when not in scanning mode,Return &quot;Operation Failed: Currently not in scanning mode, no need to stop scanning.&quot;</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// stop scanning task.</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">stopScan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Get scan status</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//true: scanning, false: not scanning</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">isScanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The SDK will cache all scanned devices and return them. If you need to clear the cache, you need to stop scanning first and then clear the cache.</p> <p>When trying to clear the cache while currently scanning, it returns &quot;Operation failed: Currently in scanning state, the cache cannot be cleared, please stop scanning first.&quot;</p> <p>Code example for pull-down refresh:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Stop scanning</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">stopScan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Clear cache</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Start scanning</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">startScan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>now the developer can get all advertisement data of device in this way. Next, we will talk about how to get frame data, such as <strong>iBeacon</strong>, <strong>URL</strong>, <strong>UID</strong> and etc...</p> <p>Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
  mtFrameHandler: a MTFrameHandler instance.
*/</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MinewFrame</span><span class="token punctuation">&gt;</span></span> advFrames <span class="token operator">=</span> mtFrameHandler<span class="token punctuation">.</span><span class="token function">getAdvFrames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MinewFrame</span> minewFrame <span class="token operator">:</span> advFrames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FrameType</span> frameType <span class="token operator">=</span> minewFrame<span class="token punctuation">.</span><span class="token function">getFrameType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>frameType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameiBeacon</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>iBeacon
            <span class="token class-name">IBeaconFrame</span> iBeaconFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">IBeaconFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getMajor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getMinor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameUID</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>uid
            <span class="token class-name">UidFrame</span> uidFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UidFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> uidFrame<span class="token punctuation">.</span><span class="token function">getNamespaceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> uidFrame<span class="token punctuation">.</span><span class="token function">getInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameAccSensor</span><span class="token operator">:</span>
            <span class="token class-name">AccFrame</span> accFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span><span class="token comment">//acc</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> accFrame<span class="token punctuation">.</span><span class="token function">getXAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> accFrame<span class="token punctuation">.</span><span class="token function">getYAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> accFrame<span class="token punctuation">.</span><span class="token function">getZAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameHTSensor</span><span class="token operator">:</span>
            <span class="token class-name">HTFrame</span> htFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HTFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span><span class="token comment">//ht</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> htFrame<span class="token punctuation">.</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> htFrame<span class="token punctuation">.</span><span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameTLM</span><span class="token operator">:</span>
            <span class="token class-name">TlmFrame</span> tlmFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TlmFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span><span class="token comment">//tlm</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> tlmFrame<span class="token punctuation">.</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> tlmFrame<span class="token punctuation">.</span><span class="token function">getBatteryVol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> tlmFrame<span class="token punctuation">.</span><span class="token function">getSecCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> tlmFrame<span class="token punctuation">.</span><span class="token function">getAdvCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FrameURL</span><span class="token operator">:</span>
            <span class="token class-name">UrlFrame</span> urlFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UrlFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span><span class="token comment">//url</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Link:&quot;</span> <span class="token operator">+</span> urlFrame<span class="token punctuation">.</span><span class="token function">getUrlString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;Rssi @ 0m:&quot;</span> <span class="token operator">+</span> urlFrame<span class="token punctuation">.</span><span class="token function">getTxPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>  
        <span class="token keyword">case</span> <span class="token class-name">FrameLightSensor</span><span class="token operator">:</span>
            <span class="token class-name">LightFrame</span> lightFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">LightFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span><span class="token comment">//light</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> lightFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> lightFrame<span class="token punctuation">.</span><span class="token function">getLuxValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span> 
        <span class="token keyword">case</span> <span class="token class-name">FrameForceSensor</span><span class="token operator">:</span>
            <span class="token class-name">ForceFrame</span> forceFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ForceFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//force</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> forceFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;force:&quot;</span> <span class="token operator">+</span>  forceFrame<span class="token punctuation">.</span><span class="token function">getForce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;gram&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">FramePIRSensor</span><span class="token operator">:</span>
            <span class="token class-name">PIRFrame</span> pirFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">PIRFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pir</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> pirFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;PIR:&quot;</span><span class="token punctuation">,</span> pirFrame<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token keyword">case</span> <span class="token class-name">FrameTempSensor</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>temp
            <span class="token class-name">TemperatureFrame</span> temperatureFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TemperatureFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> temperatureFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%,temperature:&quot;</span> <span class="token operator">+</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%.2f&quot;</span><span class="token punctuation">,</span> temperatureFrame<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;°C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token keyword">case</span> <span class="token class-name">FrameTVOCSensor</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tvoc                  
            <span class="token class-name">TvocFrame</span> tvocFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TvocFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> tvocFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,TVOC:&quot;</span> tvocFrame<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ppb,&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span>tvocFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;mV&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token keyword">case</span> <span class="token class-name">FrameLineBeacon</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">FrameLineBeacon</span>
            <span class="token class-name">FrameLineBeacon</span> lineBeacon <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">FrameLineBeacon</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hwid:&quot;</span> <span class="token operator">+</span> lineBeacon<span class="token punctuation">.</span><span class="token function">getHwid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                  <span class="token operator">+</span> <span class="token string">&quot;,Rssi@1m:&quot;</span><span class="token punctuation">,</span> lineBeacon<span class="token punctuation">.</span><span class="token function">getTxPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                  <span class="token operator">+</span> <span class="token string">&quot;,authentication:&quot;</span>lineBeacon<span class="token punctuation">.</span><span class="token function">getAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                  <span class="token operator">+</span> <span class="token string">&quot;,timesTamp:&quot;</span> <span class="token operator">+</span> lineBeacon<span class="token punctuation">.</span><span class="token function">getTimesTamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token keyword">case</span> <span class="token class-name">FrameTamperProof</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">TamperProofFrame</span>
            <span class="token class-name">TamperProofFrame</span> tamperProofFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">TamperProofFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;battery:&quot;</span> <span class="token operator">+</span> tamperProofFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token keyword">case</span> <span class="token class-name">FrameInfo</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">InfoFrame</span>
            <span class="token class-name">InfoFrame</span> infoFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">InfoFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> infoFrame<span class="token punctuation">.</span><span class="token function">getMajor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> infoFrame<span class="token punctuation">.</span><span class="token function">getMinor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 	infoFrame<span class="token punctuation">.</span><span class="token function">getBatteryVoltage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>     
       <span class="token keyword">case</span> <span class="token class-name">FrameGInfo</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">GInfoFrame</span>
            <span class="token class-name">GInfoFrame</span> <span class="token class-name">GinfoFrame</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">GInfoFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token class-name">GinfoFrame</span><span class="token punctuation">.</span><span class="token function">getMac</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">GinfoFrame</span><span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 	<span class="token class-name">GinfoFrame</span><span class="token punctuation">.</span><span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>            
       <span class="token keyword">case</span> <span class="token class-name">FrameAutoclaveCycles</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">FrameAutoclaveCycles</span>
            <span class="token class-name">AutoclaveCyclesFrame</span> autoclaveCyclesFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">AutoclaveCyclesFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AutoclaveCyclesFrame{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;timeStamp=&quot;</span> <span class="token operator">+</span> autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getShowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;, highTemperatureThreshold=&quot;</span> <span class="token operator">+</span>  autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getHighTemperatureThreshold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;, sterilizationCount=&quot;</span> <span class="token operator">+</span> autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getSterilizationCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">+</span>
                <span class="token string">&quot;, storageFull=&quot;</span> <span class="token operator">+</span> autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getStorageFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;, battery=&quot;</span> <span class="token operator">+</span>  autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;, deviceModel=&quot;</span> <span class="token operator">+</span> autoclaveCyclesFrame<span class="token punctuation">.</span><span class="token function">getDeviceModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>            
       <span class="token keyword">default</span><span class="token operator">:</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p><strong>Important:</strong> for all types of sensor value, if it equals to <em>Double.MIN_VALUE OR Integer.MIN_VALUE</em>, it means that this value is not available.</p> <p>Please refer to the code example below:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 * htFrame: HTFrame
 * lightFrame:LightFrame
 * accFrame：AccFrame
 * forceFrame:ForceFrame
 * pirFrame:PIRFrame
 */</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>htFrame<span class="token punctuation">.</span>getTemperature <span class="token operator">==</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span> value is not available<span class="token punctuation">.</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>lightFrame<span class="token punctuation">.</span>getLuxValue <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span> value is not available<span class="token punctuation">.</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>accFrame<span class="token punctuation">.</span><span class="token function">getXAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span> value is not available<span class="token punctuation">.</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>forceFrame<span class="token punctuation">.</span><span class="token function">getXAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span> value is not available<span class="token punctuation">.</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>pirFrame<span class="token punctuation">.</span><span class="token function">getXAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span> value is not available<span class="token punctuation">.</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="connect-to-device"><a href="#connect-to-device" class="header-anchor">#</a> Connect to device</h4> <p>Connect to the device in order to do more operations(change parameter, OTA). you will find that when connect to device password may need, so ,Please note that callback status <strong>PASSWORDVALIDATING</strong>:</p> <p>Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
  mtCentralManager： a MTCentralManager sharedInstance
  mtPeripheral： a MTPeripheral instance
*/</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>mtPeripheral<span class="token punctuation">,</span> connectionStatueListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
there is mutiple state when connect to the device,
only &quot;status == StatusCompleted&quot; means connection operations success.
if exception appears, error will not be NULL
*/</span>
<span class="token keyword">private</span> <span class="token class-name">ConnectionStatueListener</span> connectionStatueListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConnectionStatueListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUpdateConnectionStatus</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ConnectionStatus</span> connectionStatus<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">GetPasswordListener</span> getPasswordListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">runOnUiThread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token keyword">switch</span> <span class="token punctuation">(</span>connectionStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                       	<span class="token keyword">case</span> <span class="token constant">CONNECTING</span><span class="token operator">:</span>
                            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: CONNECTING&quot;</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">CONNECTED</span><span class="token operator">:</span>
                           	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: CONNECTED&quot;</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">CONNECTED</span><span class="token operator">:</span>
                           	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: CONNECTED&quot;</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">READINGINFO</span><span class="token operator">:</span>
                        <span class="token comment">//Advanced exercise can be notified when reading firmware 								  information</span>
                            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: Read device firmware information&quot;</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                       <span class="token keyword">case</span> <span class="token constant">DEVICEVALIDATING</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">After</span> successfully verifying the device<span class="token punctuation">,</span> 											write the verification key <span class="token keyword">to</span> <span class="token namespace">the</span> device
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;DEVICEVALIDATING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>   
                        <span class="token comment">//If you need the connect password, will call back this state.</span>
                        <span class="token comment">// !!!:Warnning: passwordRequire must not be NULL!!!</span>
                        <span class="token comment">// the length of password string must be 8.</span>
                       <span class="token keyword">case</span> <span class="token constant">PASSWORDVALIDATING</span><span class="token operator">:</span>
			<span class="token comment">// (Warning/Note)!!!: the password string length must be 8, digits or letters,Otherwise, it may cause the device firmware to malfunction</span>
                        	<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;minew123&quot;</span><span class="token punctuation">;</span>
                        	getPasswordListener<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        	<span class="token keyword">break</span><span class="token punctuation">;</span>
                       <span class="token keyword">case</span> <span class="token constant">SYNCHRONIZINGTIME</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Password</span> verification completed
                         	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: SYNCHRONIZINGTIME&quot;</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                       <span class="token keyword">case</span> <span class="token constant">READINGCONNECTABLE</span><span class="token operator">:</span>
                            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;minew_tag&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;: Read device firmware information&quot;</span><span class="token punctuation">)</span>
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;READINGCONNECTABLE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                       <span class="token keyword">case</span> <span class="token constant">READINGFEATURE</span><span class="token operator">:</span>
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;READINGFEATURE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">READINGFRAMES</span><span class="token operator">:</span>
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;READINGFRAMES&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">READINGTRIGGERS</span><span class="token operator">:</span>
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;READINGTRIGGERS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">READINGSENSORS</span><span class="token operator">:</span>
                            <span class="token class-name">LogUtils</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;READINGSENSORS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">case</span> <span class="token constant">COMPLETED</span><span class="token operator">:</span>
                        	<span class="token comment">//At this point the connection is successful and the 									parameters are written to the device</span>
                        	<span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// disconnec from the device.</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span>mtPeripheral<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h4 id="get-base-information"><a href="#get-base-information" class="header-anchor">#</a> Get base information</h4> <p>the developer can get device information and modify parameters when a device connected.</p> <p>the code example below let the developer get the base data of the device.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 *  mtPeripheral：a MTPeripheral instance
 */</span>
<span class="token class-name">MTConnectionHandler</span> mtConnectionHandler <span class="token operator">=</span> mtPeripheral<span class="token punctuation">.</span>mMTConnectionHandler<span class="token punctuation">;</span>
<span class="token comment">// current connection status</span>
<span class="token class-name">ConnectState</span> connectState <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span><span class="token function">getConnectState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// password require or not. None, Require</span>
<span class="token class-name">PasswordState</span> passwordState <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span><span class="token function">getPasswordState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// device info, such as：（Firmware Version： 0.9.1）;</span>
<span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> systeminfos <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span>systeminfos<span class="token punctuation">;</span>
<span class="token class-name">String</span> manufacturer <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>manufacturer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> modlenumber <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>modlenumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> macAddress <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>serialnumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> hardware <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>hardware<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> firmware <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>firmware<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> software <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>software<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> deviceName <span class="token operator">=</span> systeminfos<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>deviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// device features</span>
<span class="token class-name">MTConnectionFeature</span> mtConnectionFeature <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span>mTConnectionFeature<span class="token punctuation">;</span>
<span class="token comment">// atitude of slot(s), </span>
<span class="token keyword">int</span> slotAtitude <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getSlotAtitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// parameters can be modified：none，adv,txpower,adv/txpower</span>
<span class="token class-name">FeatureSupported</span> featureSupported <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getFeatureSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// // frames supported（multiple）</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FrameType</span><span class="token punctuation">&gt;</span></span> supportedSlots <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getSupportedSlots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Txpower supported（multiple）</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> supportedTxpowers <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getSupportedTxpowers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// trigger supported（multiple）</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TriggerType</span><span class="token punctuation">&gt;</span></span> supportTriggers <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span>supportTriggers<span class="token punctuation">;</span>
<span class="token comment">// Version of firmware;</span>
<span class="token class-name">Version</span> version <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><strong>PS:</strong> <strong>MTConnectionHandler</strong>’s <em>Version</em> property.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">The</span> version value comes form firmware version， check the version value <span class="token keyword">to</span> <span class="token namespace">find</span> out functions the device support<span class="token operator">:</span>
 
<span class="token comment">// init value</span>
<span class="token constant">UNDEFIND</span>

<span class="token comment">// base version, base function only.</span>
<span class="token class-name">VersionBase</span>

<span class="token comment">// this version or above support custom connection password and device info frame.</span>
<span class="token class-name">Version0_9_8</span>

<span class="token comment">// this version or above support remote shut down.</span>
<span class="token class-name">Version0_9_9</span>

<span class="token comment">// this version or above support triggers.</span>
<span class="token class-name">Version2_0_0</span>

<span class="token comment">// this version or above support triggers with adv configs.</span>
<span class="token class-name">Version2_2_60</span>

<span class="token comment">//The difference between Bluetooth 4.2 and 5.0</span>
<span class="token constant">VERSION2_5_X</span>

<span class="token comment">//new version</span>
<span class="token constant">VERSION2_NEW</span>

<span class="token comment">// ideal value, support all features.</span>
<span class="token class-name">VersionMax</span> <span class="token operator">=</span> <span class="token number">1000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="get-data-of-each-slot"><a href="#get-data-of-each-slot" class="header-anchor">#</a> Get data of each Slot</h4> <p>Next, let talk about the parameter data of every slot, the reason why we speak about this is because all the content of changing parameters is here.</p> <p><strong>Slot</strong> :Before read the code, let's talk about slot, you can think slot as a advertisement tool, it advertise the content of advertisement data even &quot;don't know&quot; what the content is. such as the 6 slots may like this:</p> <table><thead><tr><th>Slot Number</th> <th>0</th> <th>1</th> <th>2</th> <th>3</th> <th>4</th> <th>5</th></tr></thead> <tbody><tr><td>Adv content</td> <td>iBeacon</td> <td>TLM</td> <td>UID</td> <td>URL</td> <td>HTSensor</td> <td>None</td></tr> <tr><td>Adv interval（ms）</td> <td>1000</td> <td>2000</td> <td>500</td> <td>900</td> <td>3000</td> <td>0</td></tr> <tr><td>RSSI@0/1m（dbm）</td> <td>-1</td> <td>0</td> <td>-4</td> <td>-10</td> <td>-3</td> <td>0</td></tr> <tr><td>Txpower（dbm）</td> <td>4</td> <td>0</td> <td>-4</td> <td>4</td> <td>0</td> <td>0</td></tr></tbody></table> <p>By meaning of the table, the <strong>No.0</strong>  slot will advertise <strong>iBeacon</strong> data, the <strong>No.1</strong> slot will advertise <strong>TLM</strong> data, …, the <strong>No.5</strong> slot will not advertise any data. each of them have their own <strong>advertising interval</strong>, <strong>Txpower</strong> and <strong>Calibration RSSI</strong>. They are independent of each other.</p> <p>PS: <strong>Calibration RSSI(RSSI@0/1m)</strong> is the RSSI when device @ 0/1m(iBeacon is 1, others 0).</p> <p>How to get the slot advertisement data? please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 * mtConnectionHandler: a MTConnectionHandler instance
 */</span>

<span class="token comment">// each slot has a frame of current device.</span>
<span class="token comment">// atitude of this List is equals to slot atitude(feature.slotAtitude)</span>
<span class="token comment">// </span>
<span class="token comment">// In strict accordance with the order of the slot，such as：0. -&gt; MinewiBeacon，1. -&gt; MinewUID ...</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MinewFrame</span><span class="token punctuation">&gt;</span></span> allFrames <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span>allFrames<span class="token punctuation">;</span>

<span class="token comment">/*
   We assume the No.3 slot has iBeacon data, the No.4 slot has UID data.
   let's try to analyze the data of No.3 slot.
*/</span>

<span class="token comment">// due to the defualt object is MinewFrame(the superclass of MinewiBeacon), so we need make a conversion.</span>

<span class="token comment">// get the frame of No.3 slot</span>
<span class="token class-name">MinewFrame</span> minewFrame <span class="token operator">=</span> allFrames<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// check this slot has iBeacon data or not,</span>
<span class="token comment">// *You can not check if you confirm its type.</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>minewFrame<span class="token punctuation">.</span><span class="token function">getFrameType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token class-name">FrameType<span class="token punctuation">.</span>FrameiBeacon</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">IBeaconFrame</span> iBeaconFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">IBeaconFrame</span><span class="token punctuation">)</span> minewFrame<span class="token punctuation">;</span>
  
  <span class="token comment">// iBeacon data</span>
  <span class="token class-name">String</span> uuid <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//uuid</span>
  <span class="token keyword">int</span> major <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getMajor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//major</span>
  <span class="token keyword">int</span> minor <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getMinor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//minor</span>
  <span class="token comment">// the other parameters of this slot</span>
  <span class="token keyword">int</span> curSlot <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getCurSlot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// number of the slot</span>
  <span class="token keyword">int</span> advInterval <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getAdvInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// advertisement interval</span>
  <span class="token keyword">int</span> advtxPower <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getAdvtxPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// RSSI@0/1m</span>
  <span class="token keyword">int</span> radiotxPower <span class="token operator">=</span> iBeaconFrame<span class="token punctuation">.</span><span class="token function">getRadiotxPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// radio Txpower  </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>You can analyze the data of other slots in the same way, it's worth noting that when <strong>frameType == FrameNone</strong> means the slot has no data: From another perspective it means this slot is closed.</p> <h4 id="change-slot-data"><a href="#change-slot-data" class="header-anchor">#</a> Change slot data</h4> <p>The developer can modify advertisement and parameters of every slot freely via our APi.</p> <p>We divide the data frame into <strong>static frames</strong> and <strong>dynamic frames</strong>:</p> <ul><li><strong>Static frame</strong>: advertisement data will not change when it was advertise, such as <strong>iBeacon</strong>, <strong>UID</strong>, <strong>URL</strong></li> <li><strong>Dynamic frame</strong>: advertisement data will change while it was advertise, such as <strong>TLM</strong>, <strong>Sensor</strong></li></ul> <p>Please refer to the code example below:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
   mtConnectionHandler: a MTConnectionHandler instance
*/</span>

<span class="token comment">// create a uid instance</span>
<span class="token class-name">UidFrame</span> uidFrame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UidFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setFrameType</span><span class="token punctuation">(</span><span class="token class-name">FrameType<span class="token punctuation">.</span>FrameUID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set &quot;namespaceId&quot; and &quot;instanceId&quot; of UID</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setNamespaceId</span><span class="token punctuation">(</span><span class="token string">&quot;0123456789abdcdcba12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setInstanceId</span><span class="token punctuation">(</span><span class="token string">&quot;0123456789dc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the other parameters of slot</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setRadiotxPower</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Radio txpower.</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setAdvInterval</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// advertisement interval</span>
uidFrame<span class="token punctuation">.</span><span class="token function">setAdvtxPower</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RSSI@0m</span>

<span class="token comment">// write to device.</span>
<span class="token comment">// detail: 1.let No.1 slot advertise UID data, namespaceId：0123456789abdcdcba12 instanceId：0123456789dc</span>
<span class="token comment">//         2.set No.1 slot advertisement interval to 600ms, RSSI@0m to -3dbm, radio txpower to 4dbm </span>
<span class="token comment">//The second parameter is the curSlot number</span>
 mtConnectionHandler<span class="token punctuation">.</span><span class="token function">writeSlotFrame</span><span class="token punctuation">(</span>uidFrame<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token annotation punctuation">@Override</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">{</span>
             <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
             <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span>mtException<span class="token punctuation">.</span>getMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//set LineaBeaconFrame</span>
<span class="token class-name">LineBeaconFrame</span> lineBeaconFrame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LineBeaconFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lineBeaconFrame<span class="token punctuation">.</span><span class="token function">setFrameType</span><span class="token punctuation">(</span><span class="token class-name">FrameType<span class="token punctuation">.</span>FrameLineBeacon</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> hwid <span class="token operator">=</span> <span class="token string">&quot;123456abfc&quot;</span><span class="token punctuation">;</span><span class="token comment">//Hwid长度为 10，包含 a-f/A-F/0-9</span>
<span class="token class-name">String</span> vendorKey <span class="token operator">=</span> <span class="token string">&quot;123456ad&quot;</span><span class="token punctuation">;</span><span class="token comment">//VendorKey长度为 8，包含 a-f/A-F/0-9</span>
<span class="token class-name">Stirng</span> lotKey <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span><span class="token comment">//LotKey长度为 16 包含 a-f/A-F/0-9</span>
lineBeaconFrame<span class="token punctuation">.</span><span class="token function">setHwid</span><span class="token punctuation">(</span>hwid<span class="token punctuation">)</span><span class="token punctuation">;</span>
lineBeaconFrame<span class="token punctuation">.</span><span class="token function">setVendorKey</span><span class="token punctuation">(</span>vendorKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
lineBeaconFrame<span class="token punctuation">.</span><span class="token function">setLotKey</span><span class="token punctuation">(</span>lotKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The second parameter is the channel number</span>
 mtConnectionHandler<span class="token punctuation">.</span><span class="token function">writeSlotFrame</span><span class="token punctuation">(</span>lineBeaconFrame<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token annotation punctuation">@Override</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">{</span>
             <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
             <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span>mtException<span class="token punctuation">.</span>getMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//set High Temperature Sterilization</span>
            mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setHighTemperatureSterilization</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         		<span class="token keyword">if</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">{</span>
             			<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
             			<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span>mtException<span class="token punctuation">.</span>getMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        		 <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>startTemp<span class="token punctuation">,</span> endTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//get High Temperature Sterilization</span>
	mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">inquireSterilizationValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorSterilizationModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorSterilizationModel</span> sensorSterilizationModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                           <span class="token keyword">if</span> <span class="token punctuation">(</span>sensorSterilizationModel<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                     	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;StartTemp &quot;</span><span class="token operator">+</span>sensorSterilizationModel<span class="token punctuation">.</span><span class="token function">getStartTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    			<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;EndTemp &quot;</span><span class="token operator">+</span>sensorSterilizationModel<span class="token punctuation">.</span><span class="token function">getEndTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                           <span class="token punctuation">}</span>
                 <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>Becareful, the slot parameter has ranges:</p> <ul><li><strong>Advertisement interval</strong>: 100 - 5000 (ms)</li> <li><strong>RSSI@0m</strong>: -127 - 0 (dbm)</li></ul> <p><strong>The most important</strong>: Radio txpower is not a range, it's grade, such as: -8, -4, 0, 4. you can get all supported Radio Txpowers from the feature property of the &quot;MTConnectionHandler&quot;</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
   mtConnectionFeature: a property of MTConnectionHandler.
*/</span>

<span class="token comment">// get all supported Radio txpower of current device.</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> supportedTxpowers <span class="token operator">=</span> mtConnectionFeature<span class="token punctuation">.</span><span class="token function">getSupportedTxpowers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>OK, you can modify any slot in the way above, if you want to close a slot, only need to create a <strong>MinewFrame</strong> instance and make its <strong>frameType</strong> property to <strong>FrameNone</strong>, then write this frame to device. oh don't forget to set a slotnumber for the slot which you want to close.</p> <h4 id="special-frame-data"><a href="#special-frame-data" class="header-anchor">#</a> special frame data</h4> <ol><li><p>Modify the Bluetooth broadcast method: Bluetooth 5.0 125Kbps</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>   <span class="token comment">/**
     * set broadcast rate
     * @param mCurrentSlot: The currently selected channel value
     * @param templateBroadcastRate: 1mbps is set to 0, 125kbps is set to 1
     * @return broadCastRate
     */</span>
<span class="token keyword">int</span> broadCastRate <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span><span class="token function">calculateBroadCastRate</span><span class="token punctuation">(</span><span class="token keyword">int</span> mCurrentSlot<span class="token punctuation">,</span> <span class="token keyword">int</span> templateBroadcastRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">setBroadcastRate</span><span class="token punctuation">(</span><span class="token keyword">int</span> broadCastRate<span class="token punctuation">,</span> <span class="token class-name">MTCOperationCallback</span> mtcOperationCallback<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// set broadcast rate</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>Set Acc Frame Parameters：int odr, int wakeupThreshold, int wakeupDuration</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//Get Acc source parameters:：int odr, int wakeupThreshold, int wakeupDuration</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AccParamsModel</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mtConnectionHandler<span class="token punctuation">.</span><span class="token function">getSetAccParamsValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">AccParamsModel</span> paramsModel <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ordvalues <span class="token operator">=</span> paramsModel<span class="token punctuation">.</span><span class="token function">getOrdsVelues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Integer</span> odr<span class="token operator">=</span> ordvalues<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> wakeupTimeValues <span class="token operator">=</span> paramsModel<span class="token punctuation">.</span><span class="token function">getWakeupTimeValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Indicates the wake-up threshold range</span>
    <span class="token keyword">int</span> wakeupTime_min <span class="token operator">=</span> wakeupTimeValuesp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Wake Threshold Minimum</span>
    <span class="token keyword">int</span> wakeupTime_max <span class="token operator">=</span> wakeupTimeValuesp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Wake Threshold Max</span>
	<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> wakeupDurationValues <span class="token operator">=</span> paramsModel<span class="token punctuation">.</span><span class="token function">getWakeupDurationValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//wakeup duration range</span>
    <span class="token keyword">int</span> wakeupDuration_min <span class="token operator">=</span> wakeupTimeValuesp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Wakeup Duration Minimum</span>
    <span class="token keyword">int</span> wakeupDuration_max <span class="token operator">=</span> wakeupTimeValuesp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Wakeup Duration Max</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
Set parameters for Acc：wakeupThreshold Take values in the range of int[]wakeupTimeValues，wakeupDuration takes values in the range of int[] wakeupDurationValues
*/</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">setAccValue</span><span class="token punctuation">(</span><span class="token class-name">MTCOperationCallback</span> mtcOperationCallback<span class="token punctuation">,</span> <span class="token keyword">int</span> odr<span class="token punctuation">,</span> <span class="token keyword">int</span> wakeupThreshold<span class="token punctuation">,</span> <span class="token keyword">int</span> wakeupDuration<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol> <h4 id="change-global-parameter"><a href="#change-global-parameter" class="header-anchor">#</a> Change global parameter</h4> <p>Global parameter of device is a device level feature, such as connectable, password require, reset to default and etc.</p> <p>Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
   mtConnectionHandler: a MTConnectionHandler instance
*/</span>
<span class="token comment">// reset the device</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">resetFactorySetting</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// update connectable settings</span>
<span class="token comment">// CONNECTABLE_YES: app can connect to the device, CONNECTABLE_NO app can't connect to the device.</span>
<span class="token comment">// if you set CONNECTABLE_NO, you can connect to device by press the button on device maybe next time.</span>
<span class="token comment">// DANGER!!!:if there is no button on device and set CONNECTABLE_NO, the app can't connect to device even forever.</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">updateConnectable</span><span class="token punctuation">(</span><span class="token constant">CONNECTABLE_NO</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Modify/Add password,it will add password if device has no password, update password if device has a password</span>
<span class="token comment">// (Warning/Note)!!!: the password string length must be 8, digits or letters,Otherwise, it may cause the device firmware to malfunction</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">modifyPassword</span><span class="token punctuation">(</span><span class="token string">&quot;minew123&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// remove password</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">removePassword</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * remote shut down the device.
 * DANGER!!!: please make sure there a button on device, otherwise it may not boot again.
 *
 * (New) Note: If the model name is Beacon Plus-BL and the device does not support shutdown, an UnsupportedOperationException will be thrown directly. 
 * Need to pre-determine the value of model name
 *
 * Get the value of model name via MTConnectionHandler.systeminfos.get(Constants.modlenumber)
 */</span>
mtConnectionHandler<span class="token punctuation">.</span><span class="token function">powerOff</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><h4 id="sensor-data"><a href="#sensor-data" class="header-anchor">#</a> Sensor data</h4> <p>BeaconPlus devices integrated a variety of sensors: <strong>HT(Temperature and Humidity )</strong>, <strong>Light</strong>, <strong>Acceleration</strong> and etc, currently we provide APi  for read HT History data and API for PRI.</p> <p><strong>Please note:</strong> On January 9, 2019, we provided a new interface to obtain temperature and humidity data. If you are using a new interface provided after this date, Please refer to the code example below.</p> <ol><li><p>read  Sensor data</p> <p>Please make sure the device has <strong>HT Sensor</strong>, otherwise you can't get data correctly. Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 *  mtConnectionHandler: MTConnectionHandler实例
 *  
 * long longtime = System.currentTimeMillis();
 * int time = (int) (longtime / 1000);
 * byte[] curTime = Tools.intToBytes(time)
 */</span>

<span class="token comment">// Read temperature and humidity data from the device</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readSensorHistory</span><span class="token punctuation">(</span>curTime<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorHTModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorHTModel</span> sensorHTModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> date <span class="token operator">=</span> sensorModel<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// The Unix timestamp of this data；</span>
        <span class="token keyword">float</span> temperature <span class="token operator">=</span> sensorModel<span class="token punctuation">.</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Temperature data；</span>
        <span class="token keyword">float</span> humidity <span class="token operator">=</span> sensorModel<span class="token punctuation">.</span><span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Humidity data；</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNoHistoricalData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Read temperature data from the device</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readTempSensorHistory</span><span class="token punctuation">(</span>curTime<span class="token punctuation">,</span> <span class="token keyword">new</span>  <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorTempModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorTempModel</span> sensorTempModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> date <span class="token operator">=</span> sensorTempModel<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Unix timestamp of this data；</span>
        <span class="token keyword">float</span> temperature <span class="token operator">=</span> sensorModel<span class="token punctuation">.</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Temperature data</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Six-axis sensor data from the device</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readLSMHistory</span><span class="token punctuation">(</span><span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorSixAxisModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorSixAxisModel</span> sensorSixAxisModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">int</span> date <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Unix timestamp of this data；</span>
                        <span class="token keyword">double</span> <span class="token class-name">A_XAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getA_XAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">A_YAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getA_YAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">A_ZAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getA_ZAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">D_XAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getD_XAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">D_YAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getD_YAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">D_ZAxis</span> <span class="token operator">=</span> sensorSixAxisModel<span class="token punctuation">.</span><span class="token function">getD_ZAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Sensor data from the magnetometer on the device</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readLISHistory</span><span class="token punctuation">(</span><span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorMAGModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorMAGModel</span> sensorMAGModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">int</span> date <span class="token operator">=</span> sensorMAGModel<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Unix timestamp of this data；</span>
                    	<span class="token keyword">double</span> <span class="token class-name">A_XAxis</span> <span class="token operator">=</span> sensorMAGModel<span class="token punctuation">.</span><span class="token function">getA_XAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">A_YAxis</span> <span class="token operator">=</span> sensorMAGModel<span class="token punctuation">.</span><span class="token function">getA_YAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">double</span> <span class="token class-name">A_ZAxis</span> <span class="token operator">=</span> sensorMAGModel<span class="token punctuation">.</span><span class="token function">getA_ZAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// From the atmospheric pressure sensor data on the device</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readDPSHistory</span><span class="token punctuation">(</span><span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorAPModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorAPModel</span> sensorAPModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        	<span class="token keyword">int</span> date <span class="token operator">=</span> sensorAPModel<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Unix timestamp of this data；</span>
                    	    <span class="token keyword">double</span> pressure <span class="token operator">=</span> sensorAPModel<span class="token punctuation">.</span><span class="token function">getPressure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><p>you can vividly display these data with the curve, table or other.</p></li> <li><p>PIR sensor data</p> <p>Please make sure the device has <strong>PIR Sensor</strong>, otherwise you can't get data correctly. Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//mMtConnectionHandler: a MTConnectionHandler instance</span>
<span class="token class-name">MTSensorHandler</span> mtSensorHandler <span class="token operator">=</span> mMtConnectionHandler<span class="token punctuation">.</span><span class="token function">getMtSensorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">MTSensorModel</span><span class="token punctuation">&gt;</span></span> sensorMap <span class="token operator">=</span> mtSensorHandler<span class="token punctuation">.</span><span class="token function">getSensorMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SensorPIRModel</span> sensorPIRModel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SensorPIRModel</span><span class="token punctuation">)</span> sensorMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">FrameType<span class="token punctuation">.</span>FramePIRSensor</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//trigger time, the infrared sensor can be triggered again after the trigger time</span>
<span class="token keyword">int</span> time <span class="token operator">=</span> sensorPIRModel<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//a bool,whether to allow repeated triggers</span>
<span class="token keyword">boolean</span> repeatTrigger <span class="token operator">=</span> sensorPIRModel<span class="token punctuation">.</span><span class="token function">isRepeatTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <h4 id="special-history-data"><a href="#special-history-data" class="header-anchor">#</a> special history data</h4> <ol><li><p>read high temperature sterilization history</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code> <span class="token comment">//get current time</span>
         <span class="token keyword">final</span> <span class="token keyword">long</span> longtime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">int</span> time <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>longtime <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//time to bytes</span>
         <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> timeBytes <span class="token operator">=</span> <span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">intToBytes</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// read history data</span>
 mMtConnectionHandler<span class="token punctuation">.</span><span class="token function">readHighTempSterilizationHistory</span><span class="token punctuation">(</span>timeBytes<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorSterilizationModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

             <span class="token annotation punctuation">@Override</span>
             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorSterilizationModel</span> sensorSterilizationModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 <span class="token keyword">if</span> <span class="token punctuation">(</span>syncDataBtn<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                     syncDataBtn<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                         <span class="token annotation punctuation">@Override</span>
                         <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                             <span class="token keyword">if</span> <span class="token punctuation">(</span>sensorSterilizationModel<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                     sterilizationModelList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>sensorSterilizationModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
                             <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                                 <span class="token keyword">if</span> <span class="token punctuation">(</span>sterilizationModelList<span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">||</span>sterilizationModelList<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                     <span class="token keyword">if</span> <span class="token punctuation">(</span>sensorSterilizationModel<span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                         <span class="token comment">//No History</span>
                                     <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                                         <span class="token comment">//Timeout</span>
                                     <span class="token punctuation">}</span>
                                 <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
 				   					<span class="token comment">//Refresh View</span>
                                 <span class="token punctuation">}</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">}</span>
                     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// int value to four bytes</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">intToBytes</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> src <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     src<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>value <span class="token operator">&gt;&gt;</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     src<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>value <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     src<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>value <span class="token operator">&gt;&gt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     src<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>value <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> src<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div></li> <li><p>clean high temperature sterilization history</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code> 		mMtConnectionHandler<span class="token punctuation">.</span><span class="token function">cleanHighTempSterilizationHistory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SensorSterilizationModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

                             <span class="token annotation punctuation">@Override</span>
                             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">SensorSterilizationModel</span> mtSensorModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     							<span class="token keyword">if</span> <span class="token punctuation">(</span>mtSensorModel<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         							<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         							<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     							<span class="token punctuation">}</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol> <h4 id="set-triggers"><a href="#set-triggers" class="header-anchor">#</a> Set triggers</h4> <p>BeaconPlus device has triggers, you can set triggers for every slot, the device will advertise the corresponding slot only when the trigger condition is met.</p> <p>Please refer to the code example below.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
   mtConnectionHandler: a MTConnectionHandler instance
*/</span>

<span class="token class-name">Trigger</span> trigger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Target slot：2</span>
trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">TEMPERATURE_ABOVE_ALARM</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Triggering condition：temperature above</span>
trigger<span class="token punctuation">.</span><span class="token function">setCondition</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// value：10</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setTriggerCondition</span><span class="token punctuation">(</span>trigger<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">SetTriggerListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSetTrigger</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Set up the channel</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token class-name">SetPassage</span><span class="token punctuation">(</span><span class="token keyword">int</span> slot<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Trigger</span> trigger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Instantiate a trigger</span>
    <span class="token comment">//There are usually 6 channels</span>
	 <span class="token function">swith</span><span class="token punctuation">(</span>slot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">1</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">2</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">3</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">4</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">5</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Channel</span> <span class="token number">6</span>
        trigger<span class="token punctuation">.</span><span class="token function">setCurSlot</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span>：
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token class-name">TriggerType</span> triggerType<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//The argument here is an enum</span>
        <span class="token keyword">case</span> <span class="token constant">TEMPERATURE_ABOVE_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> is higher than
            <span class="token comment">//Trigger condition: temperature is higher than</span>
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">TEMPERATURE_ABOVE_ALARM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">TEMPERATURE_BELOW_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> below
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">TEMPERATURE_BELOW_ALARM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">HUMIDITY_ABOVE_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Humidity</span> is higher than
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">HUMIDITY_ABOVE_ALRM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">HUMIDITY_BELOW_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Humidity</span> is below
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">HUMIDITY_BELOW_ALRM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">BTN_DTAP_EVT</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Double</span> click
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">BTN_DTAP_EVT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">BTN_TTAP_EVT</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Triple</span> hit
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">BTN_TTAP_EVT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token constant">TEMPERATURE_RECOVER</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> recover normal
            trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token constant">TEMPERATURE_RECOVER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token keyword">int</span> mTemCondition<span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//After reaching the trigger condition, broadcast duration: 10s</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>triggerType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">case</span> <span class="token constant">TEMPERATURE_ABOVE_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> is higher than
                        <span class="token keyword">case</span> <span class="token constant">TEMPERATURE_BELOW_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> below
                        <span class="token keyword">case</span> <span class="token constant">HUMIDITY_ABOVE_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Humidity</span> is higher than
                        <span class="token keyword">case</span> <span class="token constant">HUMIDITY_BELOW_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Humidity</span> is below
                        <span class="token keyword">case</span> <span class="token constant">LIGHT_ABOVE_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Light</span> perception is higher than
                        <span class="token keyword">case</span> <span class="token constant">LIGHT_BELOW_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Light</span> sensitivity is lower than
                        <span class="token keyword">case</span> <span class="token constant">FORCE_ABOVE_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">The</span> pressure sensitivity is greater than
                        <span class="token keyword">case</span> <span class="token constant">FORCE_BELOW_ALRM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">The</span> pressure sensitivity is lower than
                        <span class="token keyword">case</span> <span class="token constant">TVOC_ABOVE_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token constant">TVOC</span> is greater than
                        <span class="token keyword">case</span> <span class="token constant">TVOC_BELOW_ALARM</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token constant">TVOC</span> is lower than
        				<span class="token keyword">case</span> <span class="token constant">TEMPERATURE_RECOVER</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token class-name">Temperature</span> recover normal
                            trigger<span class="token punctuation">.</span><span class="token function">setCondition</span><span class="token punctuation">(</span>mTemCondition<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">default</span><span class="token operator">:</span>
                            trigger<span class="token punctuation">.</span><span class="token function">setCondition</span><span class="token punctuation">(</span>mTemCondition <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

trigger<span class="token punctuation">.</span><span class="token function">setAlwaysAdvertising</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> alwaysAdvertising<span class="token punctuation">)</span><span class="token comment">//Set whether to enable basic parameter broadcast. true: on, false: off.</span>
trigger<span class="token punctuation">.</span><span class="token function">setTriggerType</span><span class="token punctuation">(</span><span class="token class-name">TriggerType</span><span class="token punctuation">.</span><span class="token constant">TRIGGER_SRC_NONE</span><span class="token punctuation">)</span><span class="token comment">//Set whether to enable trigger broadcast. It is turned off when the value is TRIGGER_SRC_NONE and turned on when it is other values.</span>

<span class="token comment">//Broadcast conditions: time interval, the maximum is 5000ms</span>
trigger<span class="token punctuation">.</span><span class="token function">setAdvInterval</span><span class="token punctuation">(</span><span class="token keyword">int</span> advInterval<span class="token punctuation">)</span>
<span class="token comment">//Broadcast conditions: broadcast signal strength, the maximum is 4, generally this is a negative value</span>
trigger<span class="token punctuation">.</span><span class="token function">setRadioTxpower</span><span class="token punctuation">(</span><span class="token keyword">int</span> radioTxpower<span class="token punctuation">)</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setTriggerCondition</span><span class="token punctuation">(</span>trigger<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">SetTriggerListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSetTrigger</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string">&quot;beaconplus&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Failed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">TriggerType</span><span class="token punctuation">{</span>
  <span class="token function">MOTION_DETECT</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Acceleration</span>
     <span class="token function">TEMPERATURE_ABOVE_ALARM</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//The temperature is higher than</span>
     <span class="token function">TEMPERATURE_BELOW_ALARM</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//The temperature is lower than</span>
     <span class="token function">HUMIDITY_ABOVE_ALRM</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Humidity is higher than</span>
     <span class="token function">HUMIDITY_BELOW_ALRM</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//The humidity is lower than</span>
     <span class="token function">LIGHT_ABOVE_ALRM</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Light perception is higher than</span>
     <span class="token function">BTN_PUSH_EVT</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Press the button</span>
     <span class="token function">BTN_RELEASE_EVT</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Button pop-up</span>
     <span class="token function">BTN_STAP_EVT</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Click the button</span>
     <span class="token function">BTN_DTAP_EVT</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Double-click the button</span>
     <span class="token function">BTN_TTAP_EVT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Three clicks on the button</span>
     <span class="token function">LIGHT_BELOW_ALARM</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Light sensitivity is lower than</span>
     <span class="token function">FORCE_ABOVE_ALRM</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//The pressure sensitivity is greater than</span>
     <span class="token function">FORCE_BELOW_ALRM</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//The pressure sensitivity is lower than</span>
     <span class="token function">PIR_DETECT</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//infrared</span>
     <span class="token function">TVOC_ABOVE_ALARM</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//TVOC is greater than</span>
     <span class="token function">TVOC_BELOW_ALARM</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//TVOC is lower than</span>
     <span class="token function">VIBRATION_DETECT</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Vibration trigger</span>
     <span class="token function">LEAKAGE_ALARM</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Leak alarm</span>
     <span class="token function">TEMPERATURE_RECOVER</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//Temperature recovery (triggered when returning to normal temperature after entering high temperature)</span>

     <span class="token function">TRIGGER_SRC_NONE</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br></div></div><h5 id="vibration-sensor-related-operations"><a href="#vibration-sensor-related-operations" class="header-anchor">#</a> Vibration sensor related operations</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code> <span class="token comment">/**
     * Set the sensitivity of the vibration sensor
     * Super high：0x00, high：0x01，middle：0x02，low：0x03，Ultra low：0x04
     */</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">0x00</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setVibrationSensitivity</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">runOnUiThread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    	
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
* Set alarm time zone
* String startTime = &quot;19:00&quot; 
* String endTime = &quot;21:00&quot;
* int switch_status = 0 // 0: off, 1: on
*/</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setAlarmTime</span><span class="token punctuation">(</span>startTime1<span class="token punctuation">,</span>endTime1<span class="token punctuation">,</span>switch_status1<span class="token punctuation">,</span>
startTime2<span class="token punctuation">,</span>endTime2<span class="token punctuation">,</span>switch_status2<span class="token punctuation">,</span>
startTime3<span class="token punctuation">,</span>endTime3<span class="token punctuation">,</span>switch_status3<span class="token punctuation">,</span>
mtcOperationCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//Callback method for setting alarm time zone</span>
    <span class="token class-name">MTCOperationCallback</span> mtcOperationCallback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">runOnUiThread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
* Set the vibration function switch
* 0x01：open，0x00: off
* byte[] statusByte = new byte[]{0x00}; off
* byte[] statusByte = new byte[]{0x01};	open
*/</span>
statusByte <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">0x00</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">setVibrationsensorStatus</span><span class="token punctuation">(</span>statusByte<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MTCOperationCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOperation</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> success<span class="token punctuation">,</span> <span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token function">runOnUiThread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token annotation punctuation">@Override</span>
                            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Get vibration sensitivity</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">inquireVibrationSensitivity</span><span class="token punctuation">(</span>mtSensorOperateCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//query vibration status</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">inquireVibrationsensorStatus</span><span class="token punctuation">(</span>mtSensorOperateCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//query the callback method of alarm time zone</span>
mMTConnectionHandler<span class="token punctuation">.</span><span class="token function">inquireAlarmTime</span><span class="token punctuation">(</span>mtSensorOperateCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">/**
  * Get vibration sensitivity, query vibration status, query the callback method of alarm 	*  time zone
  */</span>
<span class="token class-name">MTSensorOperateCallback</span> mtSensorOperateCallback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MTSensorOperateCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">MTSensorModel</span> mtSensorModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	<span class="token keyword">if</span> <span class="token punctuation">(</span>mtSensorModel <span class="token keyword">instanceof</span> <span class="token class-name">VibrationSensorModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">VibrationSensorModel</span> vibrationSensorModel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">VibrationSensorModel</span><span class="token punctuation">)</span> mtSensorModel<span class="token punctuation">;</span>

     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mtSensorModel <span class="token keyword">instanceof</span> <span class="token class-name">VibrationStatusModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">VibrationStatusModel</span> vibrationStatusModel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">VibrationStatusModel</span><span class="token punctuation">)</span> mtSensorModel<span class="token punctuation">;</span>
               
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mtSensorModel <span class="token keyword">instanceof</span> <span class="token class-name">SensorTimeModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">SensorTimeModel</span> sensorTimeModel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SensorTimeModel</span><span class="token punctuation">)</span> mtSensorModel<span class="token punctuation">;</span>
                        <span class="token keyword">switch</span> <span class="token punctuation">(</span>sensorTimeModel<span class="token punctuation">.</span><span class="token function">getTimeInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                                startTime1 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                endTime1 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                timeSwitch1 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getTimeSwitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">break</span><span class="token punctuation">;</span>
                            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                                startTime2 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                endTime2 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                timeSwitch2 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getTimeSwitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">break</span><span class="token punctuation">;</span>
                            <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
                                startTime3 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                endTime3 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                timeSwitch3 <span class="token operator">=</span> sensorTimeModel<span class="token punctuation">.</span><span class="token function">getTimeSwitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">break</span><span class="token punctuation">;</span>
                            <span class="token keyword">default</span><span class="token operator">:</span>
                                <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
              
              
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br></div></div><h4 id="modify-device-name"><a href="#modify-device-name" class="header-anchor">#</a> Modify Device Name</h4> <p>BeaconPlus device can modify device name.</p> <ol><li><p>If the device is connected and password verification is completed, device name can be obtained from the following code :</p> <p>MTConnectionHandler mtConnectionHandler = mtPeripheral.mMTConnectionHandler;
HashMap&lt;String, String&gt; systeminfos = mtConnectionHandler.systeminfos;
String deviceName = systeminfos.get(Constants.deviceName);</p></li> <li><p>If the device name is not empty, it means that the current SDK version supports modifying the device name. The API is as follows :</p></li> <li><p>byte[] deviceNameBytes = new byte[12];</p> <p>The byte length of the device name must be less than or equal to 11 bytes, which means that the maximum length of the device name is 11 bytes.
The end of the 12th byte must be 0x00. If the length of the device name is less than 11 bytes, the remaining bytes are also filled with 0x00</p> <p>e.g.
byte[] deviceNameBytes = new byte[12]{(byte)0x50,(byte)0x4C,(byte)55,(byte)53,(byte)30,(byte)30,(byte)30,(byte)31,(byte)00,(byte)00,(byte)00,(byte)00};</p></li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
            <span class="token class-name">String</span> hexDeviceName <span class="token operator">=</span> <span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">stringToHex</span><span class="token punctuation">(</span>deviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> deviceNameBytes <span class="token operator">=</span> <span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">hexStringToByte</span><span class="token punctuation">(</span>hexDeviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>

	   <span class="token comment">// If the length of the deviceNameBytes is less than 11 bytes, please fill the remaining with 0x00</span>
            <span class="token keyword">int</span> noneBytesLength <span class="token operator">=</span> <span class="token number">12</span> <span class="token operator">-</span> deviceNameBytes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> noneBytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>noneBytesLength<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sendDeviceNameBytes <span class="token operator">=</span> <span class="token class-name">Tools</span><span class="token punctuation">.</span><span class="token function">byteMerger</span><span class="token punctuation">(</span>deviceNameBytes<span class="token punctuation">,</span>noneBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>mMtConnectionHandler<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                mMtConnectionHandler<span class="token punctuation">.</span><span class="token function">modifyDeviceName</span><span class="token punctuation">(</span>sendDeviceNameBytes<span class="token punctuation">,</span> <span class="token punctuation">(</span>success<span class="token punctuation">,</span> mtException<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                    <span class="token class-name">WaitDialog</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">// Modify Device Name Success</span>
                    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// Modify Device Name Fail                   </span>
		    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>At the end of this part, you can refer all code above to develop. Of course we made a note for every APi in the SDK, if there is something new, we will update this document.</p> <h3 id="ota-operations"><a href="#ota-operations" class="header-anchor">#</a> OTA Operations</h3> <p>In general, OTA operations is complicated, so we encapsulates the <strong>MTOTAManager</strong> to perform firmware update operations, please note developer can update devices only in connection status.</p> <ol><li>AndroidManifest.xml Add the following configuration to the file ：</li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.minew.beaconplus.sdk.services.DfuService<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">android:</span>foregroundServiceType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connectedDevice|location<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>Gradle Add the following configuration to the file ：</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code>	implementation 'no<span class="token punctuation">.</span>nordicsemi<span class="token punctuation">.</span>android<span class="token operator">:</span>dfu<span class="token operator">:</span><span class="token number">2.5</span><span class="token number">.0</span>'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>Code implementation ：</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MTOTAManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startOTA</span><span class="token punctuation">(</span>
	<span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>			<span class="token comment">//Context</span>
    mMtConnectionHandler<span class="token punctuation">,</span> 	<span class="token comment">//MtConnectionHandler</span>
    tem_path<span class="token punctuation">,</span> 				<span class="token comment">//File Path</span>
    mMtDfuListener			<span class="token comment">//Upgrade Listener</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	
<span class="token comment">//Callback monitoring implements the following interfaces</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MtDfuListener</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">onOTAStateChanged</span><span class="token punctuation">(</span><span class="token class-name">OTAState</span> otaState<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">onProgressChanged</span><span class="token punctuation">(</span> <span class="token keyword">final</span> <span class="token keyword">int</span> percent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">MTException</span> mtException<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Upgrade status enumeration</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">OTAState</span> <span class="token punctuation">{</span>
    <span class="token class-name">OTAStateUndefined</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateEnablingDfuMode</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateWaitingReconnect</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateReConnecting</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateStarting</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateUploading</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateValidating</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateDisconnecting</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateCompleted</span><span class="token punctuation">,</span>
    <span class="token class-name">OTAStateAborted</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h2> <ol><li><p>In Android-6.0 or later, Bluetooth scanning requires dynamic application for location permissions, as follows:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> requestPermissions<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            requestPermissions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">BLUETOOTH_SCAN</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">BLUETOOTH_CONNECT</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">ACCESS_COARSE_LOCATION</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">ACCESS_FINE_LOCATION</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            requestPermissions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">ACCESS_COARSE_LOCATION</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">ACCESS_FINE_LOCATION</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                requestPermissions<span class="token punctuation">,</span> <span class="token constant">PERMISSION_CODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li> <li><p>Because the connection process of the device is in the service, it is recommended to call the following method after the app starts to open the service, otherwise the connection function will not be used. details as follows:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 * mtCentralManager:a MTConnectionHandler instance
 */</span>
<span class="token class-name">MTCentralManager</span> mtCentralManager <span class="token operator">=</span> <span class="token class-name">MTCentralManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">startService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//stop ConnectService</span>
mtCentralManager<span class="token punctuation">.</span><span class="token function">stopService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <h2 id="change-log"><a href="#change-log" class="header-anchor">#</a> Change log</h2> <ul><li>2025.04.09  v1.22.3  Add Medical high-temperature asset label</li> <li>2025.03.07  v1.21.2  Add the function of modifying device names</li> <li>2024.01.16  v1.20.7  Add instructions for clearing cache methods, and correct the use and instructions of some methods</li> <li>2024.01.02  v1.20.6  Added comments for setting basic parameter broadcast and trigger broadcast switches, and added TriggerType type, add instructions on how to obtain the latest update time of the device and frame</li> <li>2022.05.23  v1.16.0  Added parsing and parameter modification of GInfo broadcast frames , Special frame data: support Bluetooth 5.0 125kbps rate, support parameter modification of ACC frame , Added InfoFrame</li> <li>2022.02.23  v1.15.1  Added TamperProofFrame ，fix the problem that the optimized SDK cannot connect to the device</li> <li>2021.04.28  v1.11.1  Added vibration sensor</li> <li>2021.04.21  v1.11.0  Added six-axis/magnetometer/atmospheric pressure sensor</li> <li>2020.10.27  v1.10.2  Added lastUpdate property for each broadcast frame</li> <li>2020.03.25  v1.10  Add information display and data setting supporting linebeacon frame</li> <li>2019.12.04  v1.3  Modified the problem that some phones in Android 9.0 can't scan when the screen is closed, and added filtering conditions</li> <li>2019.07.11  v1.2  Third version , change the powerOff function</li> <li>2019.01.09  v1.1  Second version</li> <li>2017.10.13  v1.0  First version</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated::</span> <span class="time">4/24/2025, 10:18:14 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fef98304.js" defer></script><script src="/assets/js/2.31f2ce87.js" defer></script><script src="/assets/js/1.a9521bca.js" defer></script><script src="/assets/js/28.94e3a977.js" defer></script>
  </body>
</html>
