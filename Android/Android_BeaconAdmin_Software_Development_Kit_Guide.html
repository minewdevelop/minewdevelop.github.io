<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MinewBeaconAdmin Android Software Development Kit Guide | Minew mobile</title>
    <meta name="description" content="A documention site for minew mobile SDKs">
    
    
    <link rel="preload" href="/assets/css/0.styles.ca1b5866.css" as="style"><link rel="preload" href="/assets/js/app.a01fb809.js" as="script"><link rel="preload" href="/assets/js/4.a7775134.js" as="script"><link rel="prefetch" href="/assets/js/10.e2a86036.js"><link rel="prefetch" href="/assets/js/2.0bf7600d.js"><link rel="prefetch" href="/assets/js/3.f6dc4958.js"><link rel="prefetch" href="/assets/js/5.2b963b60.js"><link rel="prefetch" href="/assets/js/6.d487b4d3.js"><link rel="prefetch" href="/assets/js/7.358db2b1.js"><link rel="prefetch" href="/assets/js/8.0c28f7da.js"><link rel="prefetch" href="/assets/js/9.b35cc178.js"><link rel="prefetch" href="/assets/js/11.47018335.js"><link rel="prefetch" href="/assets/js/12.7fc3bf68.js"><link rel="prefetch" href="/assets/js/13.542f537a.js"><link rel="prefetch" href="/assets/js/14.eb9b367c.js"><link rel="prefetch" href="/assets/js/15.f22229cb.js"><link rel="prefetch" href="/assets/js/16.0680fce0.js"><link rel="prefetch" href="/assets/js/17.f14053da.js"><link rel="prefetch" href="/assets/js/18.7c849573.js"><link rel="prefetch" href="/assets/js/19.63b17b4c.js"><link rel="prefetch" href="/assets/js/20.9b19d5b3.js"><link rel="prefetch" href="/assets/js/21.e163a637.js"><link rel="prefetch" href="/assets/js/22.2cfd09f9.js"><link rel="prefetch" href="/assets/js/23.4d29e84b.js"><link rel="prefetch" href="/assets/js/24.b75cf7fd.js"><link rel="prefetch" href="/assets/js/25.c023be9e.js"><link rel="prefetch" href="/assets/js/26.b7a504ac.js"><link rel="prefetch" href="/assets/js/27.3659652a.js"><link rel="prefetch" href="/assets/js/28.234363b1.js"><link rel="prefetch" href="/assets/js/29.c5c75945.js"><link rel="prefetch" href="/assets/js/30.40e5e2dc.js"><link rel="prefetch" href="/assets/js/31.fe2e4acd.js"><link rel="prefetch" href="/assets/js/32.7aa30448.js"><link rel="prefetch" href="/assets/js/33.80e87a66.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.53980843.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca1b5866.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/minewLogo.png" alt="Minew mobile" class="logo"> <span class="site-name can-hide">Minew mobile</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/keepintouch.html" class="nav-link">Contact us</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">语言切换</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">简体中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">iOS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/iOS/iOS_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconPlus_Software_Development_Kit_Guide.html" class="nav-link">BeaconPlus</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewTrackerKit_Software_Development_Kit_Guide.html" class="nav-link">TrackerKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_MinewModuleKit_Software_Development_Kit_Guide.html" class="nav-link">ModuleKit</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Beacon_Software_Development_Kit_Guide.html" class="nav-link">Beacon</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">BeaconAdmin</a></li><li class="dropdown-item"><!----> <a href="/Android/Android_Keyfinder_Software_Development_Kit_Guide.html" class="nav-link">Keyfinder</a></li></ul></div></div><div class="nav-item"><a href="/keepintouch.html" class="nav-link">Contact us</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">语言切换</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html" class="nav-link">简体中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>MinewBeaconAdmin Android Software Development Kit Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#class-description" class="sidebar-link">Class Description</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#minewbeaconmanager" class="sidebar-link">MinewBeaconManager</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#minewbeacon" class="sidebar-link">MinewBeacon</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#minewbeaconconnection" class="sidebar-link">MinewBeaconConnection</a></li><li class="sidebar-sub-header"><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#minewbeaconsetting" class="sidebar-link">MinewBeaconSetting</a></li></ul></li><li><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#instructions" class="sidebar-link">Instructions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Android/Android_BeaconAdmin_Software_Development_Kit_Guide.html#settings" class="sidebar-link">Settings</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="minewbeaconadmin-android-software-development-kit-guide"><a href="#minewbeaconadmin-android-software-development-kit-guide" aria-hidden="true" class="header-anchor">#</a> MinewBeaconAdmin Android Software Development Kit Guide</h1> <h1 id="new-project"><a href="#new-project" aria-hidden="true" class="header-anchor">#</a> New Project</h1> <p>Android Studio Settings:</p> <p>targetSdkVersion Version choose 21</p> <p>Place the minewBeaconScan.jar into the libs folder, and then in the current project under the build.gradle file configuration items in the dependencies new content, as follows compile files ('libs / minewBeaconScan.jar').</p> <p>Eclipse Settings:</p> <p>targetSdkVersion Version choose 21</p> <p>Place the scanBeacon.jar into  the libs folder, right-click the project propeties, select Java build Path, add the minewBeaconScan.jar dependency in the Library option.</p> <p>When the targetSdkVersion version is greater than or equal to 23, the need for dynamic application permissions.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Permissions required for SDK:</p> <p>​     <uses-permission android:name="android.permission.BLUETOOTH"></uses-permission> <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"></uses-permission>
The corresponding component registration under the AndroidManifest.xml file. As follows:
<service android:name="com.minew.beaconset.ConnectService"></service> <receiver android:name="com.minew.beaconset.BluetoothChangedReceiver"><intent-filter><action android:name="android.bluetooth.adapter.action.STATE_CHANGED"></action></intent-filter></receiver>
AndroidStudio build.gradle add rely:
dependencies {
dependencies {
testCompile 'junit:junit:4.12'
compile 'com.android.support:appcompat-v7:23.3.0'
compile 'com.android.support:recyclerview-v7:23.3.0'
compile 'org.greenrobot:eventbus:3.0.0'
compile 'com.google.code.gson:gson:2.2.4'
compile files('libs/minewBeaconAdmin.jar')
}
You can use this SDK to configure the surrounding Beacon for parameters such as uuid, major, minor, and so on. The SDK use four classes to achieve this part of the function.</p> <h2 id="class-description"><a href="#class-description" aria-hidden="true" class="header-anchor">#</a> Class Description</h2> <h3 id="minewbeaconmanager"><a href="#minewbeaconmanager" aria-hidden="true" class="header-anchor">#</a> MinewBeaconManager</h3> <p>Scan devices manager class.</p> <p>Features:</p> <ol><li>start scan /stop scan</li> <li>get in range devices/get all devices around</li> <li>get bluetooth state</li> <li>listen device in/out state</li> <li>update scanned devices</li> <li>listen bluetooth state change</li> <li>on/off ConnectService</li></ol> <h3 id="minewbeacon"><a href="#minewbeacon" aria-hidden="true" class="header-anchor">#</a> MinewBeacon</h3> <p>Scanned device model</p> <p>All of these properties are read-only, and the underlying will periodically update the latest data for each device if it does not leave the scan range.</p> <p>Features:</p> <ol><li>Export device data to JSON string;</li> <li>Support import JSON string;</li></ol> <h3 id="minewbeaconconnection"><a href="#minewbeaconconnection" aria-hidden="true" class="header-anchor">#</a> MinewBeaconConnection</h3> <p>The connection state between the device and the phone, and the protect class for the data update</p> <p>Each instance corresponds to an instance of MinewBeacon and MinewBeaconSetting (connection state).</p> <p>Features:</p> <ol><li>Connect to a device / disconnect a device</li> <li>Update the property &quot;MinewBeaconSetting&quot; to the device (callback method returns whether the update was successful)</li></ol> <h3 id="minewbeaconsetting"><a href="#minewbeaconsetting" aria-hidden="true" class="header-anchor">#</a> MinewBeaconSetting</h3> <p>Connected model</p> <p>This class can only be connected in the Connection instance and the connection is successful after the acquisition, some attributes can be modified, modified after a temporary cache, only through the Connection instance successfully updated to the device changes will take effect.</p> <p>Features:</p> <ol><li>Export device data to JSON string;</li> <li>Support import JSON string;</li></ol> <h2 id="instructions"><a href="#instructions" aria-hidden="true" class="header-anchor">#</a> Instructions</h2> <h4 id="scan-devices"><a href="#scan-devices" aria-hidden="true" class="header-anchor">#</a> Scan devices</h4> <p>The MinewbeaconManager can start scan, and the SDK generates a MinewBeacon instance for the scanned device;</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>
// 1.get MinewBeaconManager instance
MinewBeaconManager mMinewBeaconManager = MinewBeaconManager.getInstance(this);
//set callback
mMinewBeaconManager.setMinewbeaconManagerListener(new MinewBeaconManagerListener() {});

//2.start ConnectService
mMinewBeaconManager.startService();

// 3.start scan
mMinewBeaconManager.startScan();

// 4.Get the scan data update by callback method
// This method is used to retrieve the latest scan data for the surrounding device
- void onRangeBeacons(List&lt;MinewBeacon&gt; beacons);

/* If you want to listen the device out of the state, you can achieve the following methods */

// listen disappeared devices
- void onDisappearBeacons(List&lt;MinewBeacon&gt; beacons);

// listen new devices
- void onAppearBeacons(List&lt;MinewBeacon&gt; beacons);

/* listen bluetooth change */
// bluetooth state：on，off，none
// only work on bluetooth state on.
- void onUpdateBluetoothState(BluetoothState state);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="connection"><a href="#connection" aria-hidden="true" class="header-anchor">#</a> Connection</h4> <p>If you want to connect to the device, you need to use the  MinewBeacon instance to generate a MinewBeaconConnection instance, through Connection to manage the connection / disconnect / update data.</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>// 1. Use a MinewBeacon instance to generate a Connection instance and set a callback monitor
MinewBeaconConnection minewBeaconConnection = new MinewBeaconConnection(context, minewBeacon);
minewBeaconConnection.setMinewBeaconConnectionListener(minewBeaconConnectionListener);
               
// 2. connect to device
 minewBeaconConnection.connect();

// 3.connection state
- void onChangeState(MinewBeaconConnection connection, ConnectionState state);
{
  //  When the connection is successful, the MinewBeaconSetting property of the connection instance is no longer empty, and the MinewBeaconSetting instance is the data obtained from the device
  switch (state) {
                case BeaconStatus_Connected:
                   minewBeaconConnection.setting.getMajor();
                    break;
                case BeaconStatus_ConnectFailed:
                case BeaconStatus_Disconnect:
                    break;
            }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="settings"><a href="#settings" aria-hidden="true" class="header-anchor">#</a> Settings</h3> <p>When the state of the connection is connected, you can modify all the non-read attributes whose attributes are set. You can update to the Beacon device by simply executing method. You can know if the update has been successfully by callback method.</p> <div class="language-android line-numbers-mode"><pre class="language-text"><code>// 1.modify the setting attribute of connection
MinewbeaconSetting mMinewBeaconSetting = minewBeaconConnection.setting;
mMinewBeaconSetting.setUuid(&quot;FDA50693A4E24FB1AFCFC6EB07647825&quot;);

/*.....*/

// 2.Update changes to the device
// It should be noted that the parameters here are the current restart password for the Beacon device;
mMinewBeaconConnection.writeSetting(&quot;minew123&quot;);

// 3.Use the callback method to get a successful update to the device
- void onWriteSettings(MinewBeaconConnection connection, final boolean success) {
   if (success) {
               Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();
           } else {
              Toast.makeText(getApplicationContext(), &quot;Failed&quot;, Toast.LENGTH_SHORT).show();
                }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>More details ,refer to demo code.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:: </span> <span class="time">9/5/2018, 4:58:02 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/4.a7775134.js" defer></script><script src="/assets/js/app.a01fb809.js" defer></script>
  </body>
</html>
